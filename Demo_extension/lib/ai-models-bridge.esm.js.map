{"version":3,"file":"ai-models-bridge.esm.js","sources":["../src/models/types.ts","../node_modules/webextension-polyfill/dist/browser-polyfill.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/native.js","../node_modules/uuid/dist/esm-browser/v4.js","../src/models/abstract-model.ts","../src/utils/stream-async-iterable.ts","../src/utils/sse.ts","../src/utils/file.ts","../node_modules/destr/dist/index.mjs","../node_modules/ufo/dist/index.mjs","../node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs","../node_modules/ofetch/dist/index.mjs","../src/models/bard.ts","../node_modules/ws/lib/constants.js","../node_modules/ws/lib/buffer-util.js","../node_modules/ws/lib/limiter.js","../node_modules/ws/lib/permessage-deflate.js","../node_modules/ws/lib/validation.js","../node_modules/ws/lib/receiver.js","../node_modules/ws/lib/sender.js","../node_modules/ws/lib/event-target.js","../node_modules/ws/lib/extension.js","../node_modules/ws/lib/websocket.js","../node_modules/ws/lib/stream.js","../node_modules/ws/lib/subprotocol.js","../node_modules/ws/lib/websocket-server.js","../node_modules/ws/index.js","../node_modules/isomorphic-ws/node.js","../src/utils/permissions.ts","../src/models/bing.ts"],"sourcesContent":["/**\r\n * Interface for all AI models\r\n */\r\nexport interface AIModel {\r\n  /**\r\n   * Get the name of the AI model\r\n   */\r\n  getName(): string;\r\n  \r\n  /**\r\n   * Check if the model supports image input\r\n   */\r\n  supportsImageInput(): boolean;\r\n  \r\n  /**\r\n   * Send a message to the AI model and get a response\r\n   * @param prompt The message to send\r\n   * @param options Additional options for the request\r\n   */\r\n  sendMessage(prompt: string, options?: SendMessageOptions): Promise<string>;\r\n  \r\n  /**\r\n   * Reset the conversation history\r\n   */\r\n  initNewThread(): void;\r\n\r\n  /**\r\n   * Get the current conversation thread\r\n   */\r\n  getCurrentThread(): ChatThread | undefined;\r\n\r\n  /**\r\n   * Load a specific conversation thread\r\n   */\r\n  loadThread(threadId: string): Promise<void>;\r\n\r\n  /**\r\n   * Save the current conversation thread\r\n   */\r\n  saveThread(title?: string): Promise<void>;\r\n\r\n  /**\r\n   * Get all saved conversation threads\r\n   */\r\n  getAllThreads(): Promise<ChatThread[]>;\r\n\r\n  /**\r\n   * Delete a conversation thread\r\n   */\r\n  deleteThread(threadId: string): Promise<void>;\r\n}\r\n\r\n/**\r\n * Options for sending a message\r\n */\r\nexport interface SendMessageOptions {\r\n  /**\r\n   * Image to include with the message (if supported)\r\n   */\r\n  image?: File;\r\n  \r\n  /**\r\n   * Signal to abort the request\r\n   */\r\n  signal?: AbortSignal;\r\n  \r\n  /**\r\n   * Callback for streaming responses\r\n   * @param text The current text of the response\r\n   */\r\n  onProgress?: (text: string) => void;\r\n}\r\n\r\n/**\r\n * Error codes for AI model errors\r\n */\r\nexport enum ErrorCode {\r\n  UNKNOWN_ERROR = 'unknown_error',\r\n  NETWORK_ERROR = 'network_error',\r\n  UNAUTHORIZED = 'unauthorized',\r\n  SERVICE_UNAVAILABLE = 'service_unavailable',\r\n  MISSING_API_KEY = 'missing_api_key',\r\n  MISSING_HOST_PERMISSION = 'missing_host_permission',\r\n  CONVERSATION_LIMIT = 'conversation_limit',\r\n  CONTENT_FILTERED = 'content_filtered',\r\n  INVALID_REQUEST = 'invalid_request',\r\n}\r\n\r\n/**\r\n * Error class for AI model errors\r\n */\r\nexport class AIModelError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public code: ErrorCode = ErrorCode.UNKNOWN_ERROR\r\n  ) {\r\n    super(message);\r\n    this.name = 'AIModelError';\r\n  }\r\n}\r\n\r\n/**\r\n * Represents a message in a conversation\r\n */\r\nexport interface ChatMessage {\r\n  id: string;\r\n  role: 'user' | 'assistant' | 'system';\r\n  content: string;\r\n  timestamp: number;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\n/**\r\n * Represents a conversation thread\r\n */\r\nexport interface ChatThread {\r\n  id: string;\r\n  title: string;\r\n  messages: ChatMessage[];\r\n  createdAt: number;\r\n  updatedAt: number;\r\n  modelName: string;\r\n  metadata?: Record<string, any>;\r\n}","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.10.0 - Fri Aug 12 2022 19:42:44 */\n\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n\n  /* vim: set sts=2 sw=2 et tw=80: */\n\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (!globalThis.chrome?.runtime?.id) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n\n  if (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n\n\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n\n          return super.get(key);\n        }\n\n      }\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n\n\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.reject\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n\n\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n\n\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args); // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n\n\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n\n        });\n      };\n\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n\n            if (!(prop in target)) {\n              return undefined;\n            }\n\n            let value = target[prop];\n\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n\n                get() {\n                  return target[prop];\n                },\n\n                set(value) {\n                  target[prop] = value;\n                }\n\n              });\n              return value;\n            }\n\n            cache[prop] = value;\n            return value;\n          },\n\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n\n            return true;\n          },\n\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n\n        }; // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n\n\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n\n      });\n\n      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps an onRequestFinished listener function so that it will return a\n         * `getContent()` property which returns a `Promise` rather than using a\n         * callback API.\n         *\n         * @param {object} req\n         *        The HAR entry object representing the network request.\n         */\n\n\n        return function onRequestFinished(req) {\n          const wrappedReq = wrapObject(req, {}\n          /* wrappers */\n          , {\n            getContent: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          });\n          listener(wrappedReq);\n        };\n      });\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n\n\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n\n          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          } // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n\n\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          }; // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n\n\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          } // Let Chrome know that the listener is replying.\n\n\n          return true;\n        };\n      });\n\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(new Error(extensionAPIs.runtime.lastError.message));\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n\n      const staticWrappers = {\n        devtools: {\n          network: {\n            onRequestFinished: wrapEvent(onRequestFinishedWrappers)\n          }\n        },\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    }; // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n\n\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = globalThis.browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import Browser from 'webextension-polyfill';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { \r\n  AIModel, \r\n  ChatThread, \r\n  ChatMessage, \r\n  SendMessageOptions, \r\n  AIModelError, \r\n  ErrorCode \r\n} from './types';\r\n\r\n/**\r\n * Abstract base class for all AI models\r\n */\r\nexport abstract class AbstractModel implements AIModel {\r\n  protected currentThread?: ChatThread;\r\n  private static readonly THREADS_STORAGE_KEY = 'chat_threads';\r\n  /**\r\n  * Get the name of the AI model\r\n  */\r\n  abstract getName(): string;\r\n  \r\n  /**\r\n   * Check if the model supports image input\r\n   */\r\n  abstract supportsImageInput(): boolean;\r\n  \r\n  /**\r\n   * Send a message to the AI model and get a response\r\n   * @param prompt The message to send\r\n   * @param options Additional options for the request\r\n   */\r\n  async sendMessage(prompt: string, options: SendMessageOptions = {}): Promise<string> {\r\n    try {\r\n      let fullResponse = '';\r\n      \r\n      await this.doSendMessage({\r\n        prompt,\r\n        image: options.image,\r\n        signal: options.signal,\r\n        onEvent: (event) => {\r\n          if (event.type === 'UPDATE_ANSWER') {\r\n            fullResponse = event.data.text;\r\n            options.onProgress?.(fullResponse);\r\n          }\r\n        }\r\n      });\r\n      \r\n      return fullResponse;\r\n    } catch (error) {\r\n      if (error instanceof AIModelError) {\r\n        throw error;\r\n      }\r\n      \r\n      throw new AIModelError(\r\n        error instanceof Error ? error.message : String(error),\r\n        ErrorCode.UNKNOWN_ERROR\r\n      );\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Reset the conversation history\r\n   */\r\n  abstract initNewThread(): Promise<void>;\r\n\r\n  /**\r\n   * Internal method to send a message to the AI model\r\n   * @param params Parameters for sending a message\r\n   */\r\n  \r\n  protected abstract doSendMessage(params: {\r\n    prompt: string;\r\n    image?: File;\r\n    signal?: AbortSignal;\r\n    onEvent: (event: { type: string; data?: any }) => void;\r\n  }): Promise<void>;\r\n\r\n  protected async loadThreadsFromStorage(): Promise<ChatThread[]> {\r\n    try {\r\n      const result = await Browser.storage.local.get(AbstractModel.THREADS_STORAGE_KEY);\r\n      return result[AbstractModel.THREADS_STORAGE_KEY] || [];\r\n    } catch (error) {\r\n      console.error('Failed to load threads from storage:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  protected async saveThreadsToStorage(threads: ChatThread[]): Promise<void> {\r\n    try {\r\n      await Browser.storage.local.set({ [AbstractModel.THREADS_STORAGE_KEY]: threads });\r\n    } catch (error) {\r\n      console.error('Failed to save threads to storage:', error);\r\n    }\r\n  }\r\n\r\n  getCurrentThread(): ChatThread | undefined {\r\n    return this.currentThread;\r\n  }\r\n\r\n  async loadThread(threadId: string): Promise<void> {\r\n    const threads = await this.loadThreadsFromStorage();\r\n    const thread = threads.find(t => t.id === threadId);\r\n    if (!thread) {\r\n      throw new Error('Thread not found');\r\n    }\r\n    this.currentThread = thread;\r\n  }\r\n\r\n  async saveThread(title?: string): Promise<void> {\r\n    if (!this.currentThread) {\r\n      throw new Error('No active thread to save');\r\n    }\r\n\r\n    const threads = await this.loadThreadsFromStorage();\r\n    const existingIndex = threads.findIndex(t => t.id === this.currentThread!.id);\r\n    \r\n    if (existingIndex !== -1) {\r\n      threads[existingIndex] = this.currentThread;\r\n    } else {\r\n      threads.push(this.currentThread);\r\n    }\r\n\r\n    await this.saveThreadsToStorage(threads);\r\n  }\r\n\r\n  async getAllThreads(): Promise<ChatThread[]> {\r\n    return this.loadThreadsFromStorage();\r\n  }\r\n\r\n  async deleteThread(threadId: string): Promise<void> {\r\n    const threads = await this.loadThreadsFromStorage();\r\n    await this.saveThreadsToStorage(threads.filter(t => t.id !== threadId));\r\n    \r\n    if (this.currentThread?.id === threadId) {\r\n      this.initNewThread();\r\n    }\r\n  }\r\n\r\n  protected createMessage(role: ChatMessage['role'], content: string): ChatMessage {\r\n    return {\r\n      id: uuid(),\r\n      role,\r\n      content,\r\n      timestamp: Date.now()\r\n    };\r\n  }\r\n}","/**\r\n * Convert a ReadableStream to an AsyncIterable\r\n * @param stream The stream to convert\r\n */\r\nexport async function* streamAsyncIterable(stream: ReadableStream<Uint8Array>) {\r\n  const reader = stream.getReader();\r\n  try {\r\n    while (true) {\r\n      const { done, value } = await reader.read();\r\n      if (done) {\r\n        return;\r\n      }\r\n      yield value;\r\n    }\r\n  } finally {\r\n    reader.releaseLock();\r\n  }\r\n}","/**\r\n * Parse a Server-Sent Events response\r\n * @param response The response to parse\r\n * @param onMessage Callback for each message\r\n */\r\nexport async function parseSSEResponse(response: Response, onMessage: (message: string) => void) {\r\n  const reader = response.body!.getReader();\r\n  const decoder = new TextDecoder();\r\n  let buffer = '';\r\n  \r\n  while (true) {\r\n    const { done, value } = await reader.read();\r\n    if (done) {\r\n      break;\r\n    }\r\n    \r\n    buffer += decoder.decode(value, { stream: true });\r\n    const lines = buffer.split('\\n');\r\n    \r\n    buffer = lines.pop() || '';\r\n    \r\n    for (const line of lines) {\r\n      const trimmedLine = line.trim();\r\n      if (!trimmedLine) continue;\r\n      \r\n      if (trimmedLine.startsWith('data: ')) {\r\n        const data = trimmedLine.slice(6);\r\n        onMessage(data);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Handle any remaining data\r\n  if (buffer.trim() && buffer.startsWith('data: ')) {\r\n    const data = buffer.slice(6);\r\n    onMessage(data);\r\n  }\r\n}","/**\r\n * Convert a file to a base64 data URL\r\n * @param file The file to convert\r\n * @param withPrefix Whether to include the data URL prefix\r\n */\r\nexport function file2base64(file: File, withPrefix = false): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      const result = reader.result as string;\r\n      if (withPrefix) {\r\n        resolve(result);\r\n      } else {\r\n        // Remove the data URL prefix (e.g., \"data:image/png;base64,\")\r\n        resolve(result.split(',')[1]);\r\n      }\r\n    };\r\n    reader.onerror = reject;\r\n  });\r\n}","const suspectProtoRx = /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/;\nconst suspectConstructorRx = /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/;\nconst JsonSigRx = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nfunction jsonParseTransform(key, value) {\n  if (key === \"__proto__\" || key === \"constructor\" && value && typeof value === \"object\" && \"prototype\" in value) {\n    warnKeyDropped(key);\n    return;\n  }\n  return value;\n}\nfunction warnKeyDropped(key) {\n  console.warn(`[destr] Dropping \"${key}\" key to prevent prototype pollution.`);\n}\nfunction destr(value, options = {}) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  const _value = value.trim();\n  if (\n    // eslint-disable-next-line unicorn/prefer-at\n    value[0] === '\"' && value.endsWith('\"') && !value.includes(\"\\\\\")\n  ) {\n    return _value.slice(1, -1);\n  }\n  if (_value.length <= 9) {\n    const _lval = _value.toLowerCase();\n    if (_lval === \"true\") {\n      return true;\n    }\n    if (_lval === \"false\") {\n      return false;\n    }\n    if (_lval === \"undefined\") {\n      return void 0;\n    }\n    if (_lval === \"null\") {\n      return null;\n    }\n    if (_lval === \"nan\") {\n      return Number.NaN;\n    }\n    if (_lval === \"infinity\") {\n      return Number.POSITIVE_INFINITY;\n    }\n    if (_lval === \"-infinity\") {\n      return Number.NEGATIVE_INFINITY;\n    }\n  }\n  if (!JsonSigRx.test(value)) {\n    if (options.strict) {\n      throw new SyntaxError(\"[destr] Invalid JSON\");\n    }\n    return value;\n  }\n  try {\n    if (suspectProtoRx.test(value) || suspectConstructorRx.test(value)) {\n      if (options.strict) {\n        throw new Error(\"[destr] Possible prototype pollution\");\n      }\n      return JSON.parse(value, jsonParseTransform);\n    }\n    return JSON.parse(value);\n  } catch (error) {\n    if (options.strict) {\n      throw error;\n    }\n    return value;\n  }\n}\nfunction safeDestr(value, options = {}) {\n  return destr(value, { ...options, strict: true });\n}\n\nexport { destr as default, destr, safeDestr };\n","const n = /[^\\0-\\x7E]/;\nconst t = /[\\x2E\\u3002\\uFF0E\\uFF61]/g;\nconst o = {\n  overflow: \"Overflow Error\",\n  \"not-basic\": \"Illegal Input\",\n  \"invalid-input\": \"Invalid Input\"\n};\nconst e = Math.floor;\nconst r = String.fromCharCode;\nfunction s(n2) {\n  throw new RangeError(o[n2]);\n}\nconst c = function(n2, t2) {\n  return n2 + 22 + 75 * (n2 < 26) - ((t2 != 0) << 5);\n};\nconst u = function(n2, t2, o2) {\n  let r2 = 0;\n  for (n2 = o2 ? e(n2 / 700) : n2 >> 1, n2 += e(n2 / t2); n2 > 455; r2 += 36) {\n    n2 = e(n2 / 35);\n  }\n  return e(r2 + 36 * n2 / (n2 + 38));\n};\nfunction toASCII(o2) {\n  return function(n2, o3) {\n    const e2 = n2.split(\"@\");\n    let r2 = \"\";\n    e2.length > 1 && (r2 = e2[0] + \"@\", n2 = e2[1]);\n    const s2 = function(n3, t2) {\n      const o4 = [];\n      let e3 = n3.length;\n      for (; e3--; ) {\n        o4[e3] = t2(n3[e3]);\n      }\n      return o4;\n    }((n2 = n2.replace(t, \".\")).split(\".\"), o3).join(\".\");\n    return r2 + s2;\n  }(o2, function(t2) {\n    return n.test(t2) ? \"xn--\" + function(n2) {\n      const t3 = [];\n      const o3 = (n2 = function(n3) {\n        const t4 = [];\n        let o4 = 0;\n        const e2 = n3.length;\n        for (; o4 < e2; ) {\n          const r2 = n3.charCodeAt(o4++);\n          if (r2 >= 55296 && r2 <= 56319 && o4 < e2) {\n            const e3 = n3.charCodeAt(o4++);\n            (64512 & e3) == 56320 ? t4.push(((1023 & r2) << 10) + (1023 & e3) + 65536) : (t4.push(r2), o4--);\n          } else {\n            t4.push(r2);\n          }\n        }\n        return t4;\n      }(n2)).length;\n      let f = 128;\n      let i = 0;\n      let l = 72;\n      for (const o4 of n2) {\n        o4 < 128 && t3.push(r(o4));\n      }\n      const h = t3.length;\n      let p = h;\n      for (h && t3.push(\"-\"); p < o3; ) {\n        let o4 = 2147483647;\n        for (const t4 of n2) {\n          t4 >= f && t4 < o4 && (o4 = t4);\n        }\n        const a = p + 1;\n        o4 - f > e((2147483647 - i) / a) && s(\"overflow\"), i += (o4 - f) * a, f = o4;\n        for (const o5 of n2) {\n          if (o5 < f && ++i > 2147483647 && s(\"overflow\"), o5 == f) {\n            let n3 = i;\n            for (let o6 = 36; ; o6 += 36) {\n              const s2 = o6 <= l ? 1 : o6 >= l + 26 ? 26 : o6 - l;\n              if (n3 < s2) {\n                break;\n              }\n              const u2 = n3 - s2;\n              const f2 = 36 - s2;\n              t3.push(r(c(s2 + u2 % f2, 0))), n3 = e(u2 / f2);\n            }\n            t3.push(r(c(n3, 0))), l = u(i, a, p == h), i = 0, ++p;\n          }\n        }\n        ++i, ++f;\n      }\n      return t3.join(\"\");\n    }(t2) : t2;\n  });\n}\n\nconst HASH_RE = /#/g;\nconst AMPERSAND_RE = /&/g;\nconst SLASH_RE = /\\//g;\nconst EQUAL_RE = /=/g;\nconst IM_RE = /\\?/g;\nconst PLUS_RE = /\\+/g;\nconst ENC_CARET_RE = /%5e/gi;\nconst ENC_BACKTICK_RE = /%60/gi;\nconst ENC_CURLY_OPEN_RE = /%7b/gi;\nconst ENC_PIPE_RE = /%7c/gi;\nconst ENC_CURLY_CLOSE_RE = /%7d/gi;\nconst ENC_SPACE_RE = /%20/gi;\nconst ENC_SLASH_RE = /%2f/gi;\nconst ENC_ENC_SLASH_RE = /%252f/gi;\nfunction encode(text) {\n  return encodeURI(\"\" + text).replace(ENC_PIPE_RE, \"|\");\n}\nfunction encodeHash(text) {\n  return encode(text).replace(ENC_CURLY_OPEN_RE, \"{\").replace(ENC_CURLY_CLOSE_RE, \"}\").replace(ENC_CARET_RE, \"^\");\n}\nfunction encodeQueryValue(input) {\n  return encode(typeof input === \"string\" ? input : JSON.stringify(input)).replace(PLUS_RE, \"%2B\").replace(ENC_SPACE_RE, \"+\").replace(HASH_RE, \"%23\").replace(AMPERSAND_RE, \"%26\").replace(ENC_BACKTICK_RE, \"`\").replace(ENC_CARET_RE, \"^\").replace(SLASH_RE, \"%2F\");\n}\nfunction encodeQueryKey(text) {\n  return encodeQueryValue(text).replace(EQUAL_RE, \"%3D\");\n}\nfunction encodePath(text) {\n  return encode(text).replace(HASH_RE, \"%23\").replace(IM_RE, \"%3F\").replace(ENC_ENC_SLASH_RE, \"%2F\").replace(AMPERSAND_RE, \"%26\").replace(PLUS_RE, \"%2B\");\n}\nfunction encodeParam(text) {\n  return encodePath(text).replace(SLASH_RE, \"%2F\");\n}\nfunction decode(text = \"\") {\n  try {\n    return decodeURIComponent(\"\" + text);\n  } catch {\n    return \"\" + text;\n  }\n}\nfunction decodePath(text) {\n  return decode(text.replace(ENC_SLASH_RE, \"%252F\"));\n}\nfunction decodeQueryKey(text) {\n  return decode(text.replace(PLUS_RE, \" \"));\n}\nfunction decodeQueryValue(text) {\n  return decode(text.replace(PLUS_RE, \" \"));\n}\nfunction encodeHost(name = \"\") {\n  return toASCII(name);\n}\n\nfunction parseQuery(parametersString = \"\") {\n  const object = {};\n  if (parametersString[0] === \"?\") {\n    parametersString = parametersString.slice(1);\n  }\n  for (const parameter of parametersString.split(\"&\")) {\n    const s = parameter.match(/([^=]+)=?(.*)/) || [];\n    if (s.length < 2) {\n      continue;\n    }\n    const key = decodeQueryKey(s[1]);\n    if (key === \"__proto__\" || key === \"constructor\") {\n      continue;\n    }\n    const value = decodeQueryValue(s[2] || \"\");\n    if (object[key] === void 0) {\n      object[key] = value;\n    } else if (Array.isArray(object[key])) {\n      object[key].push(value);\n    } else {\n      object[key] = [object[key], value];\n    }\n  }\n  return object;\n}\nfunction encodeQueryItem(key, value) {\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    value = String(value);\n  }\n  if (!value) {\n    return encodeQueryKey(key);\n  }\n  if (Array.isArray(value)) {\n    return value.map((_value) => `${encodeQueryKey(key)}=${encodeQueryValue(_value)}`).join(\"&\");\n  }\n  return `${encodeQueryKey(key)}=${encodeQueryValue(value)}`;\n}\nfunction stringifyQuery(query) {\n  return Object.keys(query).filter((k) => query[k] !== void 0).map((k) => encodeQueryItem(k, query[k])).filter(Boolean).join(\"&\");\n}\n\nconst PROTOCOL_STRICT_REGEX = /^[\\s\\w\\0+.-]{2,}:([/\\\\]{1,2})/;\nconst PROTOCOL_REGEX = /^[\\s\\w\\0+.-]{2,}:([/\\\\]{2})?/;\nconst PROTOCOL_RELATIVE_REGEX = /^([/\\\\]\\s*){2,}[^/\\\\]/;\nconst PROTOCOL_SCRIPT_RE = /^[\\s\\0]*(blob|data|javascript|vbscript):$/i;\nconst TRAILING_SLASH_RE = /\\/$|\\/\\?|\\/#/;\nconst JOIN_LEADING_SLASH_RE = /^\\.?\\//;\nfunction isRelative(inputString) {\n  return [\"./\", \"../\"].some((string_) => inputString.startsWith(string_));\n}\nfunction hasProtocol(inputString, opts = {}) {\n  if (typeof opts === \"boolean\") {\n    opts = { acceptRelative: opts };\n  }\n  if (opts.strict) {\n    return PROTOCOL_STRICT_REGEX.test(inputString);\n  }\n  return PROTOCOL_REGEX.test(inputString) || (opts.acceptRelative ? PROTOCOL_RELATIVE_REGEX.test(inputString) : false);\n}\nfunction isScriptProtocol(protocol) {\n  return !!protocol && PROTOCOL_SCRIPT_RE.test(protocol);\n}\nfunction hasTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return input.endsWith(\"/\");\n  }\n  return TRAILING_SLASH_RE.test(input);\n}\nfunction withoutTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return (hasTrailingSlash(input) ? input.slice(0, -1) : input) || \"/\";\n  }\n  if (!hasTrailingSlash(input, true)) {\n    return input || \"/\";\n  }\n  let path = input;\n  let fragment = \"\";\n  const fragmentIndex = input.indexOf(\"#\");\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n  }\n  const [s0, ...s] = path.split(\"?\");\n  const cleanPath = s0.endsWith(\"/\") ? s0.slice(0, -1) : s0;\n  return (cleanPath || \"/\") + (s.length > 0 ? `?${s.join(\"?\")}` : \"\") + fragment;\n}\nfunction withTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return input.endsWith(\"/\") ? input : input + \"/\";\n  }\n  if (hasTrailingSlash(input, true)) {\n    return input || \"/\";\n  }\n  let path = input;\n  let fragment = \"\";\n  const fragmentIndex = input.indexOf(\"#\");\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n    if (!path) {\n      return fragment;\n    }\n  }\n  const [s0, ...s] = path.split(\"?\");\n  return s0 + \"/\" + (s.length > 0 ? `?${s.join(\"?\")}` : \"\") + fragment;\n}\nfunction hasLeadingSlash(input = \"\") {\n  return input.startsWith(\"/\");\n}\nfunction withoutLeadingSlash(input = \"\") {\n  return (hasLeadingSlash(input) ? input.slice(1) : input) || \"/\";\n}\nfunction withLeadingSlash(input = \"\") {\n  return hasLeadingSlash(input) ? input : \"/\" + input;\n}\nfunction cleanDoubleSlashes(input = \"\") {\n  return input.split(\"://\").map((string_) => string_.replace(/\\/{2,}/g, \"/\")).join(\"://\");\n}\nfunction withBase(input, base) {\n  if (isEmptyURL(base) || hasProtocol(input)) {\n    return input;\n  }\n  const _base = withoutTrailingSlash(base);\n  if (input.startsWith(_base)) {\n    return input;\n  }\n  return joinURL(_base, input);\n}\nfunction withoutBase(input, base) {\n  if (isEmptyURL(base)) {\n    return input;\n  }\n  const _base = withoutTrailingSlash(base);\n  if (!input.startsWith(_base)) {\n    return input;\n  }\n  const trimmed = input.slice(_base.length);\n  return trimmed[0] === \"/\" ? trimmed : \"/\" + trimmed;\n}\nfunction withQuery(input, query) {\n  const parsed = parseURL(input);\n  const mergedQuery = { ...parseQuery(parsed.search), ...query };\n  parsed.search = stringifyQuery(mergedQuery);\n  return stringifyParsedURL(parsed);\n}\nfunction getQuery(input) {\n  return parseQuery(parseURL(input).search);\n}\nfunction isEmptyURL(url) {\n  return !url || url === \"/\";\n}\nfunction isNonEmptyURL(url) {\n  return url && url !== \"/\";\n}\nfunction joinURL(base, ...input) {\n  let url = base || \"\";\n  for (const segment of input.filter((url2) => isNonEmptyURL(url2))) {\n    if (url) {\n      const _segment = segment.replace(JOIN_LEADING_SLASH_RE, \"\");\n      url = withTrailingSlash(url) + _segment;\n    } else {\n      url = segment;\n    }\n  }\n  return url;\n}\nfunction joinRelativeURL(..._input) {\n  const JOIN_SEGMENT_SPLIT_RE = /\\/(?!\\/)/;\n  const input = _input.filter(Boolean);\n  const segments = [];\n  let segmentsDepth = 0;\n  for (const i of input) {\n    if (!i || i === \"/\") {\n      continue;\n    }\n    for (const [sindex, s] of i.split(JOIN_SEGMENT_SPLIT_RE).entries()) {\n      if (!s || s === \".\") {\n        continue;\n      }\n      if (s === \"..\") {\n        if (segments.length === 1 && hasProtocol(segments[0])) {\n          continue;\n        }\n        segments.pop();\n        segmentsDepth--;\n        continue;\n      }\n      if (sindex === 1 && segments[segments.length - 1]?.endsWith(\":/\")) {\n        segments[segments.length - 1] += \"/\" + s;\n        continue;\n      }\n      segments.push(s);\n      segmentsDepth++;\n    }\n  }\n  let url = segments.join(\"/\");\n  if (segmentsDepth >= 0) {\n    if (input[0]?.startsWith(\"/\") && !url.startsWith(\"/\")) {\n      url = \"/\" + url;\n    } else if (input[0]?.startsWith(\"./\") && !url.startsWith(\"./\")) {\n      url = \"./\" + url;\n    }\n  } else {\n    url = \"../\".repeat(-1 * segmentsDepth) + url;\n  }\n  if (input[input.length - 1]?.endsWith(\"/\") && !url.endsWith(\"/\")) {\n    url += \"/\";\n  }\n  return url;\n}\nfunction withHttp(input) {\n  return withProtocol(input, \"http://\");\n}\nfunction withHttps(input) {\n  return withProtocol(input, \"https://\");\n}\nfunction withoutProtocol(input) {\n  return withProtocol(input, \"\");\n}\nfunction withProtocol(input, protocol) {\n  let match = input.match(PROTOCOL_REGEX);\n  if (!match) {\n    match = input.match(/^\\/{2,}/);\n  }\n  if (!match) {\n    return protocol + input;\n  }\n  return protocol + input.slice(match[0].length);\n}\nfunction normalizeURL(input) {\n  const parsed = parseURL(input);\n  parsed.pathname = encodePath(decodePath(parsed.pathname));\n  parsed.hash = encodeHash(decode(parsed.hash));\n  parsed.host = encodeHost(decode(parsed.host));\n  parsed.search = stringifyQuery(parseQuery(parsed.search));\n  return stringifyParsedURL(parsed);\n}\nfunction resolveURL(base = \"\", ...inputs) {\n  if (typeof base !== \"string\") {\n    throw new TypeError(\n      `URL input should be string received ${typeof base} (${base})`\n    );\n  }\n  const filteredInputs = inputs.filter((input) => isNonEmptyURL(input));\n  if (filteredInputs.length === 0) {\n    return base;\n  }\n  const url = parseURL(base);\n  for (const inputSegment of filteredInputs) {\n    const urlSegment = parseURL(inputSegment);\n    if (urlSegment.pathname) {\n      url.pathname = withTrailingSlash(url.pathname) + withoutLeadingSlash(urlSegment.pathname);\n    }\n    if (urlSegment.hash && urlSegment.hash !== \"#\") {\n      url.hash = urlSegment.hash;\n    }\n    if (urlSegment.search && urlSegment.search !== \"?\") {\n      if (url.search && url.search !== \"?\") {\n        const queryString = stringifyQuery({\n          ...parseQuery(url.search),\n          ...parseQuery(urlSegment.search)\n        });\n        url.search = queryString.length > 0 ? \"?\" + queryString : \"\";\n      } else {\n        url.search = urlSegment.search;\n      }\n    }\n  }\n  return stringifyParsedURL(url);\n}\nfunction isSamePath(p1, p2) {\n  return decode(withoutTrailingSlash(p1)) === decode(withoutTrailingSlash(p2));\n}\nfunction isEqual(a, b, options = {}) {\n  if (!options.trailingSlash) {\n    a = withTrailingSlash(a);\n    b = withTrailingSlash(b);\n  }\n  if (!options.leadingSlash) {\n    a = withLeadingSlash(a);\n    b = withLeadingSlash(b);\n  }\n  if (!options.encoding) {\n    a = decode(a);\n    b = decode(b);\n  }\n  return a === b;\n}\nfunction withFragment(input, hash) {\n  if (!hash || hash === \"#\") {\n    return input;\n  }\n  const parsed = parseURL(input);\n  parsed.hash = hash === \"\" ? \"\" : \"#\" + encodeHash(hash);\n  return stringifyParsedURL(parsed);\n}\nfunction withoutFragment(input) {\n  return stringifyParsedURL({ ...parseURL(input), hash: \"\" });\n}\nfunction withoutHost(input) {\n  const parsed = parseURL(input);\n  return (parsed.pathname || \"/\") + parsed.search + parsed.hash;\n}\n\nconst protocolRelative = Symbol.for(\"ufo:protocolRelative\");\nfunction parseURL(input = \"\", defaultProto) {\n  const _specialProtoMatch = input.match(\n    /^[\\s\\0]*(blob:|data:|javascript:|vbscript:)(.*)/i\n  );\n  if (_specialProtoMatch) {\n    const [, _proto, _pathname = \"\"] = _specialProtoMatch;\n    return {\n      protocol: _proto.toLowerCase(),\n      pathname: _pathname,\n      href: _proto + _pathname,\n      auth: \"\",\n      host: \"\",\n      search: \"\",\n      hash: \"\"\n    };\n  }\n  if (!hasProtocol(input, { acceptRelative: true })) {\n    return defaultProto ? parseURL(defaultProto + input) : parsePath(input);\n  }\n  const [, protocol = \"\", auth, hostAndPath = \"\"] = input.replace(/\\\\/g, \"/\").match(/^[\\s\\0]*([\\w+.-]{2,}:)?\\/\\/([^/@]+@)?(.*)/) || [];\n  let [, host = \"\", path = \"\"] = hostAndPath.match(/([^#/?]*)(.*)?/) || [];\n  if (protocol === \"file:\") {\n    path = path.replace(/\\/(?=[A-Za-z]:)/, \"\");\n  }\n  const { pathname, search, hash } = parsePath(path);\n  return {\n    protocol: protocol.toLowerCase(),\n    auth: auth ? auth.slice(0, Math.max(0, auth.length - 1)) : \"\",\n    host,\n    pathname,\n    search,\n    hash,\n    [protocolRelative]: !protocol\n  };\n}\nfunction parsePath(input = \"\") {\n  const [pathname = \"\", search = \"\", hash = \"\"] = (input.match(/([^#?]*)(\\?[^#]*)?(#.*)?/) || []).splice(1);\n  return {\n    pathname,\n    search,\n    hash\n  };\n}\nfunction parseAuth(input = \"\") {\n  const [username, password] = input.split(\":\");\n  return {\n    username: decode(username),\n    password: decode(password)\n  };\n}\nfunction parseHost(input = \"\") {\n  const [hostname, port] = (input.match(/([^/:]*):?(\\d+)?/) || []).splice(1);\n  return {\n    hostname: decode(hostname),\n    port\n  };\n}\nfunction stringifyParsedURL(parsed) {\n  const pathname = parsed.pathname || \"\";\n  const search = parsed.search ? (parsed.search.startsWith(\"?\") ? \"\" : \"?\") + parsed.search : \"\";\n  const hash = parsed.hash || \"\";\n  const auth = parsed.auth ? parsed.auth + \"@\" : \"\";\n  const host = parsed.host || \"\";\n  const proto = parsed.protocol || parsed[protocolRelative] ? (parsed.protocol || \"\") + \"//\" : \"\";\n  return proto + auth + host + pathname + search + hash;\n}\nconst FILENAME_STRICT_REGEX = /\\/([^/]+\\.[^/]+)$/;\nconst FILENAME_REGEX = /\\/([^/]+)$/;\nfunction parseFilename(input = \"\", { strict }) {\n  const { pathname } = parseURL(input);\n  const matches = strict ? pathname.match(FILENAME_STRICT_REGEX) : pathname.match(FILENAME_REGEX);\n  return matches ? matches[1] : void 0;\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass $URL {\n  constructor(input = \"\") {\n    __publicField(this, \"protocol\");\n    __publicField(this, \"host\");\n    __publicField(this, \"auth\");\n    __publicField(this, \"pathname\");\n    __publicField(this, \"query\", {});\n    __publicField(this, \"hash\");\n    if (typeof input !== \"string\") {\n      throw new TypeError(\n        `URL input should be string received ${typeof input} (${input})`\n      );\n    }\n    const parsed = parseURL(input);\n    this.protocol = decode(parsed.protocol);\n    this.host = decode(parsed.host);\n    this.auth = decode(parsed.auth);\n    this.pathname = decodePath(parsed.pathname);\n    this.query = parseQuery(parsed.search);\n    this.hash = decode(parsed.hash);\n  }\n  get hostname() {\n    return parseHost(this.host).hostname;\n  }\n  get port() {\n    return parseHost(this.host).port || \"\";\n  }\n  get username() {\n    return parseAuth(this.auth).username;\n  }\n  get password() {\n    return parseAuth(this.auth).password || \"\";\n  }\n  get hasProtocol() {\n    return this.protocol.length;\n  }\n  get isAbsolute() {\n    return this.hasProtocol || this.pathname[0] === \"/\";\n  }\n  get search() {\n    const q = stringifyQuery(this.query);\n    return q.length > 0 ? \"?\" + q : \"\";\n  }\n  get searchParams() {\n    const p = new URLSearchParams();\n    for (const name in this.query) {\n      const value = this.query[name];\n      if (Array.isArray(value)) {\n        for (const v of value) {\n          p.append(name, v);\n        }\n      } else {\n        p.append(\n          name,\n          typeof value === \"string\" ? value : JSON.stringify(value)\n        );\n      }\n    }\n    return p;\n  }\n  get origin() {\n    return (this.protocol ? this.protocol + \"//\" : \"\") + encodeHost(this.host);\n  }\n  get fullpath() {\n    return encodePath(this.pathname) + this.search + encodeHash(this.hash);\n  }\n  get encodedAuth() {\n    if (!this.auth) {\n      return \"\";\n    }\n    const { username, password } = parseAuth(this.auth);\n    return encodeURIComponent(username) + (password ? \":\" + encodeURIComponent(password) : \"\");\n  }\n  get href() {\n    const auth = this.encodedAuth;\n    const originWithAuth = (this.protocol ? this.protocol + \"//\" : \"\") + (auth ? auth + \"@\" : \"\") + encodeHost(this.host);\n    return this.hasProtocol && this.isAbsolute ? originWithAuth + this.fullpath : this.fullpath;\n  }\n  append(url) {\n    if (url.hasProtocol) {\n      throw new Error(\"Cannot append a URL with protocol\");\n    }\n    Object.assign(this.query, url.query);\n    if (url.pathname) {\n      this.pathname = withTrailingSlash(this.pathname) + withoutLeadingSlash(url.pathname);\n    }\n    if (url.hash) {\n      this.hash = url.hash;\n    }\n  }\n  toJSON() {\n    return this.href;\n  }\n  toString() {\n    return this.href;\n  }\n}\nfunction createURL(input) {\n  return new $URL(input);\n}\n\nexport { $URL, cleanDoubleSlashes, createURL, decode, decodePath, decodeQueryKey, decodeQueryValue, encode, encodeHash, encodeHost, encodeParam, encodePath, encodeQueryItem, encodeQueryKey, encodeQueryValue, getQuery, hasLeadingSlash, hasProtocol, hasTrailingSlash, isEmptyURL, isEqual, isNonEmptyURL, isRelative, isSamePath, isScriptProtocol, joinRelativeURL, joinURL, normalizeURL, parseAuth, parseFilename, parseHost, parsePath, parseQuery, parseURL, resolveURL, stringifyParsedURL, stringifyQuery, withBase, withFragment, withHttp, withHttps, withLeadingSlash, withProtocol, withQuery, withTrailingSlash, withoutBase, withoutFragment, withoutHost, withoutLeadingSlash, withoutProtocol, withoutTrailingSlash };\n","import destr from 'destr';\nimport { withBase, withQuery } from 'ufo';\n\nclass FetchError extends Error {\n  constructor(message, opts) {\n    super(message, opts);\n    this.name = \"FetchError\";\n    if (opts?.cause && !this.cause) {\n      this.cause = opts.cause;\n    }\n  }\n}\nfunction createFetchError(ctx) {\n  const errorMessage = ctx.error?.message || ctx.error?.toString() || \"\";\n  const method = ctx.request?.method || ctx.options?.method || \"GET\";\n  const url = ctx.request?.url || String(ctx.request) || \"/\";\n  const requestStr = `[${method}] ${JSON.stringify(url)}`;\n  const statusStr = ctx.response ? `${ctx.response.status} ${ctx.response.statusText}` : \"<no response>\";\n  const message = `${requestStr}: ${statusStr}${errorMessage ? ` ${errorMessage}` : \"\"}`;\n  const fetchError = new FetchError(\n    message,\n    ctx.error ? { cause: ctx.error } : void 0\n  );\n  for (const key of [\"request\", \"options\", \"response\"]) {\n    Object.defineProperty(fetchError, key, {\n      get() {\n        return ctx[key];\n      }\n    });\n  }\n  for (const [key, refKey] of [\n    [\"data\", \"_data\"],\n    [\"status\", \"status\"],\n    [\"statusCode\", \"status\"],\n    [\"statusText\", \"statusText\"],\n    [\"statusMessage\", \"statusText\"]\n  ]) {\n    Object.defineProperty(fetchError, key, {\n      get() {\n        return ctx.response && ctx.response[refKey];\n      }\n    });\n  }\n  return fetchError;\n}\n\nconst payloadMethods = new Set(\n  Object.freeze([\"PATCH\", \"POST\", \"PUT\", \"DELETE\"])\n);\nfunction isPayloadMethod(method = \"GET\") {\n  return payloadMethods.has(method.toUpperCase());\n}\nfunction isJSONSerializable(value) {\n  if (value === void 0) {\n    return false;\n  }\n  const t = typeof value;\n  if (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n    return true;\n  }\n  if (t !== \"object\") {\n    return false;\n  }\n  if (Array.isArray(value)) {\n    return true;\n  }\n  if (value.buffer) {\n    return false;\n  }\n  return value.constructor && value.constructor.name === \"Object\" || typeof value.toJSON === \"function\";\n}\nconst textTypes = /* @__PURE__ */ new Set([\n  \"image/svg\",\n  \"application/xml\",\n  \"application/xhtml\",\n  \"application/html\"\n]);\nconst JSON_RE = /^application\\/(?:[\\w!#$%&*.^`~-]*\\+)?json(;.+)?$/i;\nfunction detectResponseType(_contentType = \"\") {\n  if (!_contentType) {\n    return \"json\";\n  }\n  const contentType = _contentType.split(\";\").shift() || \"\";\n  if (JSON_RE.test(contentType)) {\n    return \"json\";\n  }\n  if (textTypes.has(contentType) || contentType.startsWith(\"text/\")) {\n    return \"text\";\n  }\n  return \"blob\";\n}\nfunction resolveFetchOptions(request, input, defaults, Headers) {\n  const headers = mergeHeaders(\n    input?.headers ?? request?.headers,\n    defaults?.headers,\n    Headers\n  );\n  let query;\n  if (defaults?.query || defaults?.params || input?.params || input?.query) {\n    query = {\n      ...defaults?.params,\n      ...defaults?.query,\n      ...input?.params,\n      ...input?.query\n    };\n  }\n  return {\n    ...defaults,\n    ...input,\n    query,\n    params: query,\n    headers\n  };\n}\nfunction mergeHeaders(input, defaults, Headers) {\n  if (!defaults) {\n    return new Headers(input);\n  }\n  const headers = new Headers(defaults);\n  if (input) {\n    for (const [key, value] of Symbol.iterator in input || Array.isArray(input) ? input : new Headers(input)) {\n      headers.set(key, value);\n    }\n  }\n  return headers;\n}\nasync function callHooks(context, hooks) {\n  if (hooks) {\n    if (Array.isArray(hooks)) {\n      for (const hook of hooks) {\n        await hook(context);\n      }\n    } else {\n      await hooks(context);\n    }\n  }\n}\n\nconst retryStatusCodes = /* @__PURE__ */ new Set([\n  408,\n  // Request Timeout\n  409,\n  // Conflict\n  425,\n  // Too Early (Experimental)\n  429,\n  // Too Many Requests\n  500,\n  // Internal Server Error\n  502,\n  // Bad Gateway\n  503,\n  // Service Unavailable\n  504\n  // Gateway Timeout\n]);\nconst nullBodyResponses = /* @__PURE__ */ new Set([101, 204, 205, 304]);\nfunction createFetch(globalOptions = {}) {\n  const {\n    fetch = globalThis.fetch,\n    Headers = globalThis.Headers,\n    AbortController = globalThis.AbortController\n  } = globalOptions;\n  async function onError(context) {\n    const isAbort = context.error && context.error.name === \"AbortError\" && !context.options.timeout || false;\n    if (context.options.retry !== false && !isAbort) {\n      let retries;\n      if (typeof context.options.retry === \"number\") {\n        retries = context.options.retry;\n      } else {\n        retries = isPayloadMethod(context.options.method) ? 0 : 1;\n      }\n      const responseCode = context.response && context.response.status || 500;\n      if (retries > 0 && (Array.isArray(context.options.retryStatusCodes) ? context.options.retryStatusCodes.includes(responseCode) : retryStatusCodes.has(responseCode))) {\n        const retryDelay = typeof context.options.retryDelay === \"function\" ? context.options.retryDelay(context) : context.options.retryDelay || 0;\n        if (retryDelay > 0) {\n          await new Promise((resolve) => setTimeout(resolve, retryDelay));\n        }\n        return $fetchRaw(context.request, {\n          ...context.options,\n          retry: retries - 1\n        });\n      }\n    }\n    const error = createFetchError(context);\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(error, $fetchRaw);\n    }\n    throw error;\n  }\n  const $fetchRaw = async function $fetchRaw2(_request, _options = {}) {\n    const context = {\n      request: _request,\n      options: resolveFetchOptions(\n        _request,\n        _options,\n        globalOptions.defaults,\n        Headers\n      ),\n      response: void 0,\n      error: void 0\n    };\n    if (context.options.method) {\n      context.options.method = context.options.method.toUpperCase();\n    }\n    if (context.options.onRequest) {\n      await callHooks(context, context.options.onRequest);\n    }\n    if (typeof context.request === \"string\") {\n      if (context.options.baseURL) {\n        context.request = withBase(context.request, context.options.baseURL);\n      }\n      if (context.options.query) {\n        context.request = withQuery(context.request, context.options.query);\n        delete context.options.query;\n      }\n      if (\"query\" in context.options) {\n        delete context.options.query;\n      }\n      if (\"params\" in context.options) {\n        delete context.options.params;\n      }\n    }\n    if (context.options.body && isPayloadMethod(context.options.method)) {\n      if (isJSONSerializable(context.options.body)) {\n        context.options.body = typeof context.options.body === \"string\" ? context.options.body : JSON.stringify(context.options.body);\n        context.options.headers = new Headers(context.options.headers || {});\n        if (!context.options.headers.has(\"content-type\")) {\n          context.options.headers.set(\"content-type\", \"application/json\");\n        }\n        if (!context.options.headers.has(\"accept\")) {\n          context.options.headers.set(\"accept\", \"application/json\");\n        }\n      } else if (\n        // ReadableStream Body\n        \"pipeTo\" in context.options.body && typeof context.options.body.pipeTo === \"function\" || // Node.js Stream Body\n        typeof context.options.body.pipe === \"function\"\n      ) {\n        if (!(\"duplex\" in context.options)) {\n          context.options.duplex = \"half\";\n        }\n      }\n    }\n    let abortTimeout;\n    if (!context.options.signal && context.options.timeout) {\n      const controller = new AbortController();\n      abortTimeout = setTimeout(() => {\n        const error = new Error(\n          \"[TimeoutError]: The operation was aborted due to timeout\"\n        );\n        error.name = \"TimeoutError\";\n        error.code = 23;\n        controller.abort(error);\n      }, context.options.timeout);\n      context.options.signal = controller.signal;\n    }\n    try {\n      context.response = await fetch(\n        context.request,\n        context.options\n      );\n    } catch (error) {\n      context.error = error;\n      if (context.options.onRequestError) {\n        await callHooks(\n          context,\n          context.options.onRequestError\n        );\n      }\n      return await onError(context);\n    } finally {\n      if (abortTimeout) {\n        clearTimeout(abortTimeout);\n      }\n    }\n    const hasBody = (context.response.body || // https://github.com/unjs/ofetch/issues/324\n    // https://github.com/unjs/ofetch/issues/294\n    // https://github.com/JakeChampion/fetch/issues/1454\n    context.response._bodyInit) && !nullBodyResponses.has(context.response.status) && context.options.method !== \"HEAD\";\n    if (hasBody) {\n      const responseType = (context.options.parseResponse ? \"json\" : context.options.responseType) || detectResponseType(context.response.headers.get(\"content-type\") || \"\");\n      switch (responseType) {\n        case \"json\": {\n          const data = await context.response.text();\n          const parseFunction = context.options.parseResponse || destr;\n          context.response._data = parseFunction(data);\n          break;\n        }\n        case \"stream\": {\n          context.response._data = context.response.body || context.response._bodyInit;\n          break;\n        }\n        default: {\n          context.response._data = await context.response[responseType]();\n        }\n      }\n    }\n    if (context.options.onResponse) {\n      await callHooks(\n        context,\n        context.options.onResponse\n      );\n    }\n    if (!context.options.ignoreResponseError && context.response.status >= 400 && context.response.status < 600) {\n      if (context.options.onResponseError) {\n        await callHooks(\n          context,\n          context.options.onResponseError\n        );\n      }\n      return await onError(context);\n    }\n    return context.response;\n  };\n  const $fetch = async function $fetch2(request, options) {\n    const r = await $fetchRaw(request, options);\n    return r._data;\n  };\n  $fetch.raw = $fetchRaw;\n  $fetch.native = (...args) => fetch(...args);\n  $fetch.create = (defaultOptions = {}, customGlobalOptions = {}) => createFetch({\n    ...globalOptions,\n    ...customGlobalOptions,\n    defaults: {\n      ...globalOptions.defaults,\n      ...customGlobalOptions.defaults,\n      ...defaultOptions\n    }\n  });\n  return $fetch;\n}\n\nexport { FetchError as F, createFetchError as a, createFetch as c };\n","import { c as createFetch } from './shared/ofetch.03887fc3.mjs';\nexport { F as FetchError, a as createFetchError } from './shared/ofetch.03887fc3.mjs';\nimport 'destr';\nimport 'ufo';\n\nconst _globalThis = function() {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  throw new Error(\"unable to locate global object\");\n}();\nconst fetch = _globalThis.fetch ? (...args) => _globalThis.fetch(...args) : () => Promise.reject(new Error(\"[ofetch] global.fetch is not supported!\"));\nconst Headers = _globalThis.Headers;\nconst AbortController = _globalThis.AbortController;\nconst ofetch = createFetch({ fetch, Headers, AbortController });\nconst $fetch = ofetch;\n\nexport { $fetch, AbortController, Headers, createFetch, fetch, ofetch };\n","import { ofetch } from 'ofetch';\r\nimport Browser from 'webextension-polyfill';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { AbstractModel } from './abstract-model';\r\nimport { AIModelError, ErrorCode } from './types';\r\n\r\n// REMOVE: Old ConversationContext interface\r\n// ADD: New Bard-specific metadata interface\r\ninterface BardThreadMetadata {\r\n  contextIds: [string, string, string];\r\n  requestParams: {\r\n    atValue: string;\r\n    blValue: string;\r\n  };\r\n}\r\n\r\n\r\n// Helper functions\r\nfunction generateReqId() {\r\n  return Math.floor(Math.random() * 900000) + 100000;\r\n}\r\nfunction extractFromHTML(variableName: string, html: string) {\r\n  const regex = new RegExp(`\"${variableName}\":\"([^\"]+)\"`)\r\n  const match = regex.exec(html)\r\n  return match?.[1]\r\n}\r\n\r\nexport class BardModel extends AbstractModel {\r\n  constructor() {\r\n    super();\r\n    // Initialize storage and validate threads\r\n    this.initializeStorage().catch(console.error);\r\n  }\r\n\r\n  private async initializeStorage(): Promise<void> {\r\n    // Ensure threads storage exists\r\n    const threads = await this.loadThreadsFromStorage();\r\n    if (!threads.length) {\r\n      await this.saveThreadsToStorage([]);\r\n    }\r\n    await this.validateExistingThreads();\r\n  }\r\n\r\n  private async validateExistingThreads(): Promise<void> {\r\n    const threads = await this.loadThreadsFromStorage();\r\n    let hasChanges = false;\r\n\r\n    for (const thread of threads) {\r\n      if (thread.modelName === this.getName() && !this.isValidBardMetadata(thread.metadata)) {\r\n        await this.deleteThread(thread.id);\r\n        hasChanges = true;\r\n      }\r\n    }\r\n\r\n    if (hasChanges) {\r\n      await this.saveThreadsToStorage(threads.filter(t =>\r\n        t.modelName !== this.getName() || this.isValidBardMetadata(t.metadata)\r\n      ));\r\n    }\r\n  }\r\n\r\n  private isValidBardMetadata(metadata: any): metadata is BardThreadMetadata {\r\n    return metadata?.contextIds && metadata?.requestParams;\r\n  }\r\n\r\n\r\n  getName(): string {\r\n    return 'Google Bard';\r\n  }\r\n\r\n  supportsImageInput(): boolean {\r\n    return true;\r\n  }\r\n\r\n \r\n  private async fetchRequestParams(): Promise<{ atValue: string; blValue: string }> {\r\n    try {\r\n      const response = await ofetch('https://gemini.google.com/', {\r\n        responseType: 'text'\r\n      });\r\n\r\n      const atValue = extractFromHTML('SNlM0e', response);\r\n      const blValue = extractFromHTML('cfb2h', response);\r\n\r\n      if (!atValue || !blValue) {\r\n        throw new AIModelError('Failed to extract Bard parameters', ErrorCode.UNAUTHORIZED);\r\n      }\r\n\r\n      return { atValue, blValue };\r\n    } catch (error) {\r\n      throw new AIModelError(\r\n        'Failed to initialize Bard session',\r\n        ErrorCode.UNAUTHORIZED\r\n      );\r\n    }\r\n  }\r\n\r\n  // KEEP: Response parsing with image support\r\n  private parseBardResponse(responseText: string): { text: string; ids: [string, string, string] } {\r\n    try {\r\n      const lines = responseText.split('\\n');\r\n      const jsonPart = lines.find(line => line.startsWith('['));\r\n      \r\n      if (!jsonPart) {\r\n        throw new Error('Invalid response format');\r\n      }\r\n\r\n      const data = JSON.parse(jsonPart);\r\n      const payload = JSON.parse(data[0][2]);\r\n\r\n      if (!payload) {\r\n        throw new Error('Empty response data');\r\n      }\r\n\r\n      const text = payload[4][0][1][0];\r\n      const ids: [string, string, string] = [\r\n        payload[1][0], // conversationId\r\n        payload[1][1], // responseId\r\n        payload[4][0][0], // choiceId\r\n      ];\r\n\r\n      const images = payload[4][0][4] || [];\r\n      let processedText = text;\r\n      \r\n      for (const image of images) {\r\n        const [media, source, placeholder] = image;\r\n        processedText = processedText.replace(placeholder, `[![${media[4]}](${media[0][0]})](${source[0][0]})`);\r\n      }\r\n\r\n      return { text: processedText, ids };\r\n    } catch (error) {\r\n      console.error('Error parsing Bard response:', error);\r\n      throw new AIModelError('Failed to parse Bard response', ErrorCode.UNKNOWN_ERROR);\r\n    }\r\n  }\r\n\r\n  // KEEP: Image upload functionality\r\n  private async uploadImage(image: File): Promise<string> {\r\n    const headers = {\r\n      'content-type': 'application/x-www-form-urlencoded;charset=UTF-8',\r\n      'push-id': 'feeds/mcudyrk2a4khkz',\r\n      'x-goog-upload-header-content-length': image.size.toString(),\r\n      'x-goog-upload-protocol': 'resumable',\r\n      'x-tenant-id': 'bard-storage',\r\n    };\r\n\r\n    const resp = await ofetch.raw('https://content-push.googleapis.com/upload/', {\r\n      method: 'POST',\r\n      headers: {\r\n        ...headers,\r\n        'x-goog-upload-command': 'start',\r\n      },\r\n      body: new URLSearchParams({ [`File name: ${image.name}`]: '' }),\r\n    });\r\n\r\n    const uploadUrl = resp.headers.get('x-goog-upload-url');\r\n    if (!uploadUrl) {\r\n      throw new AIModelError('Failed to upload image', ErrorCode.UNKNOWN_ERROR);\r\n    }\r\n\r\n    const uploadResult = await ofetch(uploadUrl, {\r\n      method: 'POST',\r\n      headers: {\r\n        ...headers,\r\n        'x-goog-upload-command': 'upload, finalize',\r\n        'x-goog-upload-offset': '0',\r\n      },\r\n      body: image,\r\n    });\r\n\r\n    return uploadResult as string;\r\n  }\r\n\r\n  // UPDATE: Main message handling method to use thread system\r\n  // Add this method to properly retrieve the thread from storage before each request\r\n  private async ensureThreadLoaded(): Promise<void> {\r\n    if (!this.currentThread) {\r\n      // Try to load the most recent thread for this model\r\n      const threads = await this.loadThreadsFromStorage();\r\n      const bardThreads = threads.filter(t => \r\n        t.modelName === this.getName() && this.isValidBardMetadata(t.metadata)\r\n      );\r\n      \r\n      if (bardThreads.length > 0) {\r\n        // Sort by most recent and use that thread\r\n        const mostRecentThread = bardThreads.sort((a, b) => b.updatedAt - a.updatedAt)[0];\r\n        this.currentThread = mostRecentThread;\r\n        console.log('Loaded existing thread from storage:', this.currentThread.id);\r\n      } else {\r\n        // Create a new thread if none exists\r\n        await this.initNewThread();\r\n      }\r\n    }\r\n  }\r\n\r\n  // Update doSendMessage to use the ensureThreadLoaded method\r\n  protected async doSendMessage(params: {\r\n    prompt: string;\r\n    image?: File;\r\n    signal?: AbortSignal;\r\n    onEvent: (event: { type: string; data?: any }) => void;\r\n  }): Promise<void> {\r\n    try {\r\n      params.onEvent({\r\n        type: 'UPDATE_ANSWER',\r\n        data: { text: '' }\r\n      });\r\n\r\n      // Make sure we have a valid thread with the latest data from storage\r\n      await this.ensureThreadLoaded();\r\n\r\n      // Now we can safely assert that currentThread exists\r\n      const currentThread = this.getCurrentThreadSafe();\r\n\r\n      // Add user message\r\n      const userMessage = this.createMessage('user', params.prompt);\r\n      currentThread.messages.push(userMessage);\r\n\r\n      // Get Bard-specific metadata\r\n      const metadata = this.getBardMetadata();\r\n      \r\n      // IMPORTANT: Log the context IDs to verify they're being retrieved correctly\r\n      console.log('Current context IDs before request:', metadata.contextIds);\r\n      \r\n      // Handle image upload\r\n      let imageUrl: string | undefined;\r\n      if (params.image) {\r\n        imageUrl = await this.uploadImage(params.image);\r\n      }\r\n\r\n      const payload = [\r\n        null,\r\n        JSON.stringify([\r\n          [params.prompt, 0, null, imageUrl ? [[[imageUrl, 1], params.image!.name]] : []],\r\n          null,\r\n          metadata.contextIds,\r\n        ]),\r\n      ];\r\n\r\n      const resp = await ofetch(\r\n        'https://gemini.google.com/_/BardChatUi/data/assistant.lamda.BardFrontendService/StreamGenerate',\r\n        {\r\n          method: 'POST',\r\n          signal: params.signal,\r\n          query: {\r\n            bl: metadata.requestParams.blValue,\r\n            _reqid: generateReqId(),\r\n            rt: 'c',\r\n          },\r\n          body: new URLSearchParams({\r\n            at: metadata.requestParams.atValue,\r\n            'f.req': JSON.stringify(payload),\r\n          }),\r\n          parseResponse: (txt) => txt,\r\n        },\r\n      );\r\n\r\n      const { text, ids } = this.parseBardResponse(resp);\r\n      \r\n      // Log the new context IDs\r\n      console.log('New context IDs after response:', ids);\r\n      \r\n      // Update thread with assistant's response\r\n      const assistantMessage = this.createMessage('assistant', text);\r\n      assistantMessage.metadata = { messageId: ids[0] };\r\n      currentThread.messages.push(assistantMessage);\r\n      \r\n      // Update thread metadata with new context IDs\r\n      if (currentThread.metadata) {\r\n        (currentThread.metadata as BardThreadMetadata).contextIds = ids;\r\n      }\r\n      currentThread.updatedAt = Date.now();\r\n      \r\n      // Save thread to storage - FIXED: Only save once using the proper method\r\n      await this.saveThread();\r\n      \r\n      // REMOVED: The duplicate thread saving code that was causing duplicates\r\n      // No longer loading all threads and saving again\r\n\r\n      // Send events\r\n      params.onEvent({\r\n        type: 'UPDATE_ANSWER',\r\n        data: { \r\n          text,\r\n          messageId: ids[0],\r\n          conversationId: ids[1],\r\n          messages: currentThread.messages\r\n        }\r\n      });\r\n\r\n      params.onEvent({ type: 'DONE' });\r\n    } catch (error) {\r\n      params.onEvent({\r\n        type: 'ERROR',\r\n        data: {\r\n          error: error instanceof AIModelError ? error : new AIModelError(\r\n            error instanceof Error ? error.message : String(error),\r\n            ErrorCode.NETWORK_ERROR\r\n          )\r\n        }\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // OVERRIDE: Thread loading to handle Bard session refresh\r\n  async loadThread(threadId: string): Promise<void> {\r\n    const threads = await this.loadThreadsFromStorage();\r\n    const thread = threads.find(t => t.id === threadId);\r\n    \r\n    if (thread && thread.modelName === this.getName()) {\r\n      this.currentThread = thread;\r\n      // Refresh Bard session\r\n      const metadata = this.currentThread.metadata as BardThreadMetadata;\r\n      metadata.requestParams = await this.fetchRequestParams();\r\n      await this.saveThread();\r\n      await this.saveThreadsToStorage(threads);\r\n    }\r\n  }\r\n\r\n  private getBardMetadata(): BardThreadMetadata {\r\n    const currentThread = this.getCurrentThreadSafe();\r\n    \r\n    if (!currentThread.metadata) {\r\n      throw new AIModelError('No thread metadata available', ErrorCode.INVALID_REQUEST);\r\n    }\r\n    \r\n    const metadata = currentThread.metadata as BardThreadMetadata;\r\n    if (!metadata.contextIds || !metadata.requestParams) {\r\n      throw new AIModelError('Invalid thread metadata', ErrorCode.INVALID_REQUEST);\r\n    }\r\n    \r\n    return metadata;\r\n  }\r\n\r\n  private getCurrentThreadSafe(): NonNullable<typeof this.currentThread> {\r\n    if (!this.currentThread) {\r\n      throw new AIModelError('No active thread', ErrorCode.INVALID_REQUEST);\r\n    }\r\n    return this.currentThread;\r\n  }\r\n\r\n\r\n  async initNewThread(): Promise<void> {\r\n    this.currentThread = {\r\n      id: uuid(),\r\n      title: 'New Conversation',\r\n      messages: [],\r\n      createdAt: Date.now(),\r\n      updatedAt: Date.now(),\r\n      modelName: this.getName(),\r\n      metadata: {\r\n        contextIds: ['', '', ''],\r\n        requestParams: await this.fetchRequestParams()\r\n      }\r\n    };\r\n    \r\n    // FIXED: Only save once using the proper method\r\n    await this.saveThread();\r\n    // REMOVED: The duplicate thread saving code\r\n  }\r\n\r\n  // Add a new method to properly save the thread\r\n  // Changed from protected to public to match parent class\r\n  public async saveThread(): Promise<void> {\r\n    if (!this.currentThread) return;\r\n    \r\n    // Load all threads\r\n    const threads = await this.loadThreadsFromStorage();\r\n    \r\n    // Find if this thread already exists\r\n    const existingIndex = threads.findIndex(t => t.id === this.currentThread!.id);\r\n    \r\n    if (existingIndex !== -1) {\r\n      // Update existing thread\r\n      threads[existingIndex] = this.currentThread;\r\n    } else {\r\n      // Add new thread\r\n      threads.push(this.currentThread);\r\n    }\r\n    \r\n    // Save all threads\r\n    await this.saveThreadsToStorage(threads);\r\n  }\r\n}","'use strict';\n\nconst BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\nconst hasBlob = typeof Blob !== 'undefined';\n\nif (hasBlob) BINARY_TYPES.push('blob');\n\nmodule.exports = {\n  BINARY_TYPES,\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  hasBlob,\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) {\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.length === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = new FastBuffer(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { isUtf8 } = require('buffer');\n\nconst { hasBlob } = require('./constants');\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Determines whether a value is a `Blob`.\n *\n * @param {*} value The value to be tested\n * @return {Boolean} `true` if `value` is a `Blob`, else `false`\n * @private\n */\nfunction isBlob(value) {\n  return (\n    hasBlob &&\n    typeof value === 'object' &&\n    typeof value.arrayBuffer === 'function' &&\n    typeof value.type === 'string' &&\n    typeof value.stream === 'function' &&\n    (value[Symbol.toStringTag] === 'Blob' ||\n      value[Symbol.toStringTag] === 'File')\n  );\n}\n\nmodule.exports = {\n  isBlob,\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\nif (isUtf8) {\n  module.exports.isValidUTF8 = function (buf) {\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n  };\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst FastBuffer = Buffer[Symbol.species];\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\nconst DEFER_EVENT = 6;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._allowSynchronousEvents =\n      options.allowSynchronousEvents !== undefined\n        ? options.allowSynchronousEvents\n        : true;\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._errored = false;\n    this._loop = false;\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = new FastBuffer(\n        buf.buffer,\n        buf.byteOffset + n,\n        buf.length - n\n      );\n\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = new FastBuffer(\n          buf.buffer,\n          buf.byteOffset + n,\n          buf.length - n\n        );\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          this.getInfo(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          this.getPayloadLength16(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          this.getPayloadLength64(cb);\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          this.getData(cb);\n          break;\n        case INFLATING:\n        case DEFER_EVENT:\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    if (!this._errored) cb();\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getInfo(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      const error = this.createError(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n\n      cb(error);\n      return;\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      const error = this.createError(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (!this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        const error = this.createError(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (\n        this._payloadLength > 0x7d ||\n        (this._opcode === 0x08 && this._payloadLength === 1)\n      ) {\n        const error = this.createError(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    } else {\n      const error = this.createError(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        const error = this.createError(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n\n        cb(error);\n        return;\n      }\n    } else if (this._masked) {\n      const error = this.createError(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength16(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength64(cb) {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      const error = this.createError(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  haveLength(cb) {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        const error = this.createError(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) {\n      this.controlMessage(data, cb);\n      return;\n    }\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    this.dataMessage(cb);\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          const error = this.createError(\n            RangeError,\n            'Max payload size exceeded',\n            false,\n            1009,\n            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._fragments.push(buf);\n      }\n\n      this.dataMessage(cb);\n      if (this._state === GET_INFO) this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  dataMessage(cb) {\n    if (!this._fin) {\n      this._state = GET_INFO;\n      return;\n    }\n\n    const messageLength = this._messageLength;\n    const fragments = this._fragments;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragmented = 0;\n    this._fragments = [];\n\n    if (this._opcode === 2) {\n      let data;\n\n      if (this._binaryType === 'nodebuffer') {\n        data = concat(fragments, messageLength);\n      } else if (this._binaryType === 'arraybuffer') {\n        data = toArrayBuffer(concat(fragments, messageLength));\n      } else if (this._binaryType === 'blob') {\n        data = new Blob(fragments);\n      } else {\n        data = fragments;\n      }\n\n      if (this._allowSynchronousEvents) {\n        this.emit('message', data, true);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', data, true);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    } else {\n      const buf = concat(fragments, messageLength);\n\n      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n        const error = this.createError(\n          Error,\n          'invalid UTF-8 sequence',\n          true,\n          1007,\n          'WS_ERR_INVALID_UTF8'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (this._state === INFLATING || this._allowSynchronousEvents) {\n        this.emit('message', buf, false);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', buf, false);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    }\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data, cb) {\n    if (this._opcode === 0x08) {\n      if (data.length === 0) {\n        this._loop = false;\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          const error = this.createError(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n\n          cb(error);\n          return;\n        }\n\n        const buf = new FastBuffer(\n          data.buffer,\n          data.byteOffset + 2,\n          data.length - 2\n        );\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          const error = this.createError(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._loop = false;\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n\n      this._state = GET_INFO;\n      return;\n    }\n\n    if (this._allowSynchronousEvents) {\n      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n      this._state = GET_INFO;\n    } else {\n      this._state = DEFER_EVENT;\n      setImmediate(() => {\n        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n        this._state = GET_INFO;\n        this.startLoop(cb);\n      });\n    }\n  }\n\n  /**\n   * Builds an error object.\n   *\n   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n   * @param {String} message The error message\n   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n   *     `message`\n   * @param {Number} statusCode The status code\n   * @param {String} errorCode The exposed error code\n   * @return {(Error|RangeError)} The error\n   * @private\n   */\n  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\n    this._loop = false;\n    this._errored = true;\n\n    const err = new ErrorCtor(\n      prefix ? `Invalid WebSocket frame: ${message}` : message\n    );\n\n    Error.captureStackTrace(err, this.createError);\n    err.code = errorCode;\n    err[kStatusCode] = statusCode;\n    return err;\n  }\n}\n\nmodule.exports = Receiver;\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\n\n'use strict';\n\nconst { Duplex } = require('stream');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER, kWebSocket, NOOP } = require('./constants');\nconst { isBlob, isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\nconst RANDOM_POOL_SIZE = 8 * 1024;\nlet randomPool;\nlet randomPoolPointer = RANDOM_POOL_SIZE;\n\nconst DEFAULT = 0;\nconst DEFLATING = 1;\nconst GET_BLOB_DATA = 2;\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {Duplex} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._queue = [];\n    this._state = DEFAULT;\n    this.onerror = NOOP;\n    this[kWebSocket] = undefined;\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        if (randomPoolPointer === RANDOM_POOL_SIZE) {\n          /* istanbul ignore else  */\n          if (randomPool === undefined) {\n            //\n            // This is lazily initialized because server-sent frames must not\n            // be masked so it may never be used.\n            //\n            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\n          }\n\n          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\n          randomPoolPointer = 0;\n        }\n\n        mask[0] = randomPool[randomPoolPointer++];\n        mask[1] = randomPool[randomPoolPointer++];\n        mask[2] = randomPool[randomPoolPointer++];\n        mask[3] = randomPool[randomPoolPointer++];\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    const opts = {\n      [kByteLength]: byteLength,\n      fin: options.fin,\n      generateMask: this._generateMask,\n      mask: options.mask,\n      maskBuffer: this._maskBuffer,\n      opcode,\n      readOnly,\n      rsv1\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\n      } else {\n        this.getBlobData(data, this._compress, opts, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n    } else {\n      this.dispatch(data, this._compress, opts, cb);\n    }\n  }\n\n  /**\n   * Gets the contents of a blob as binary data.\n   *\n   * @param {Blob} blob The blob\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     the data\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  getBlobData(blob, compress, options, cb) {\n    this._bufferedBytes += options[kByteLength];\n    this._state = GET_BLOB_DATA;\n\n    blob\n      .arrayBuffer()\n      .then((arrayBuffer) => {\n        if (this._socket.destroyed) {\n          const err = new Error(\n            'The socket was closed while the blob was being read'\n          );\n\n          //\n          // `callCallbacks` is called in the next tick to ensure that errors\n          // that might be thrown in the callbacks behave like errors thrown\n          // outside the promise chain.\n          //\n          process.nextTick(callCallbacks, this, err, cb);\n          return;\n        }\n\n        this._bufferedBytes -= options[kByteLength];\n        const data = toBuffer(arrayBuffer);\n\n        if (!compress) {\n          this._state = DEFAULT;\n          this.sendFrame(Sender.frame(data, options), cb);\n          this.dequeue();\n        } else {\n          this.dispatch(data, compress, options, cb);\n        }\n      })\n      .catch((err) => {\n        //\n        // `onError` is called in the next tick for the same reason that\n        // `callCallbacks` above is.\n        //\n        process.nextTick(onError, this, err, cb);\n      });\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._state = DEFLATING;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        callCallbacks(this, err, cb);\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._state = DEFAULT;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (this._state === DEFAULT && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {(Buffer | String)[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Calls queued callbacks with an error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error to call the callbacks with\n * @param {Function} [cb] The first callback\n * @private\n */\nfunction callCallbacks(sender, err, cb) {\n  if (typeof cb === 'function') cb(err);\n\n  for (let i = 0; i < sender._queue.length; i++) {\n    const params = sender._queue[i];\n    const callback = params[params.length - 1];\n\n    if (typeof callback === 'function') callback(err);\n  }\n}\n\n/**\n * Handles a `Sender` error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error\n * @param {Function} [cb] The first pending callback\n * @private\n */\nfunction onError(sender, err, cb) {\n  callCallbacks(sender, err, cb);\n  sender.onerror(err);\n}\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Duplex, Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst { isBlob } = require('./validation');\n\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._errorEmitted = false;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._autoPong = options.autoPong;\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * For historical reasons, the custom \"nodebuffer\" type is used by the default\n   * instead of \"blob\".\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      allowSynchronousEvents: options.allowSynchronousEvents,\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    const sender = new Sender(socket, this._extensions, options.generateMask);\n\n    this._receiver = receiver;\n    this._sender = sender;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    sender[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    sender.onerror = senderOnError;\n\n    //\n    // These methods may not be available if `socket` is just a `Duplex`.\n    //\n    if (socket.setTimeout) socket.setTimeout(0);\n    if (socket.setNoDelay) socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    setCloseTimer(this);\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\n *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\n *     times in the same tick\n * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n *     automatically send a pong in response to a ping\n * @param {Function} [options.finishRequest] A function which can be used to\n *     customize the headers of each http request before it is sent\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    allowSynchronousEvents: true,\n    autoPong: true,\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  websocket._autoPong = opts.autoPong;\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n  }\n\n  if (parsedUrl.protocol === 'http:') {\n    parsedUrl.protocol = 'ws:';\n  } else if (parsedUrl.protocol === 'https:') {\n    parsedUrl.protocol = 'wss:';\n  }\n\n  websocket._url = parsedUrl.href;\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\n      '\"http:\", \"https\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection =\n    opts.createConnection || (isSecure ? tlsConnect : netConnect);\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n          ? false\n          : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      allowSynchronousEvents: opts.allowSynchronousEvents,\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  if (opts.finishRequest) {\n    opts.finishRequest(req, websocket);\n  } else {\n    req.end();\n  }\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  //\n  // The following assignment is practically useless and is done only for\n  // consistency.\n  //\n  websocket._errorEmitted = true;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = isBlob(data) ? data.size : toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    process.nextTick(cb, err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The `Sender` error event handler.\n *\n * @param {Error} The error\n * @private\n */\nfunction senderOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket.readyState === WebSocket.CLOSED) return;\n  if (websocket.readyState === WebSocket.OPEN) {\n    websocket._readyState = WebSocket.CLOSING;\n    setCloseTimer(websocket);\n  }\n\n  //\n  // `socket.end()` is used instead of `socket.destroy()` to allow the other\n  // peer to finish sending queued data. There is no need to set a timer here\n  // because `CLOSING` means that it is already set or not needed.\n  //\n  this._socket.end();\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * Set a timer to destroy the underlying raw socket of a WebSocket.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @private\n */\nfunction setCloseTimer(websocket) {\n  websocket._closeTimer = setTimeout(\n    websocket._socket.destroy.bind(websocket._socket),\n    closeTimeout\n  );\n}\n\n/**\n * The listener of the socket `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the socket `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the socket `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the socket `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^WebSocket$\" }] */\n'use strict';\n\nconst WebSocket = require('./websocket');\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst { Duplex } = require('stream');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n   *     automatically send a pong in response to a ping\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      allowSynchronousEvents: true,\n      autoPong: true,\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (key === undefined || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null, undefined, this.options);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      allowSynchronousEvents: this.options.allowSynchronousEvents,\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","'use strict';\n\nconst WebSocket = require('./lib/websocket');\n\nWebSocket.createWebSocketStream = require('./lib/stream');\nWebSocket.Server = require('./lib/websocket-server');\nWebSocket.Receiver = require('./lib/receiver');\nWebSocket.Sender = require('./lib/sender');\n\nWebSocket.WebSocket = WebSocket;\nWebSocket.WebSocketServer = WebSocket.Server;\n\nmodule.exports = WebSocket;\n","\"use strict\";\n\nmodule.exports = require('ws');","import browser from 'webextension-polyfill';\r\n\r\nexport async function requestHostPermissions(hosts: string[]) {\r\n  const permissions: browser.Permissions.Permissions = { origins: hosts };\r\n  if (await browser.permissions.contains(permissions)) {\r\n    return true;\r\n  }\r\n  return browser.permissions.request(permissions);\r\n}\r\n\r\nexport async function requestHostPermission(host: string) {\r\n  return requestHostPermissions([host]);\r\n}","import { ofetch } from 'ofetch';\r\nimport { v4 as uuid } from 'uuid';\r\nimport WebSocket from 'isomorphic-ws';\r\nimport { AbstractModel } from './abstract-model';\r\nimport { AIModelError, ErrorCode } from './types';\r\nimport browser from 'webextension-polyfill';\r\nimport { requestHostPermission } from '../utils/permissions';\r\n\r\n// Bing conversation styles (now Copilot styles)\r\nexport enum BingConversationStyle {\r\n  Creative = 'creative',\r\n  Balanced = 'balanced',\r\n  Precise = 'precise'\r\n}\r\n\r\n// Bing-specific thread metadata\r\ninterface BingThreadMetadata {\r\n  conversationId: string;\r\n  conversationStyle: BingConversationStyle;\r\n}\r\n\r\nexport class BingModel extends AbstractModel {\r\n  constructor(private conversationStyle: BingConversationStyle = BingConversationStyle.Balanced) {\r\n    super();\r\n    // Initialize storage and validate threads\r\n    this.initializeStorage().catch(console.error);\r\n  }\r\n\r\n  private async initializeStorage(): Promise<void> {\r\n    // Ensure threads storage exists\r\n    const threads = await this.loadThreadsFromStorage();\r\n    if (!threads.length) {\r\n      await this.saveThreadsToStorage([]);\r\n    }\r\n    await this.validateExistingThreads();\r\n  }\r\n\r\n  private async validateExistingThreads(): Promise<void> {\r\n    const threads = await this.loadThreadsFromStorage();\r\n    let hasChanges = false;\r\n\r\n    for (const thread of threads) {\r\n      if (thread.modelName === this.getName() && !this.isValidBingMetadata(thread.metadata)) {\r\n        await this.deleteThread(thread.id);\r\n        hasChanges = true;\r\n      }\r\n    }\r\n\r\n    if (hasChanges) {\r\n      await this.saveThreadsToStorage(threads.filter(t =>\r\n        t.modelName !== this.getName() || this.isValidBingMetadata(t.metadata)\r\n      ));\r\n    }\r\n  }\r\n\r\n  private isValidBingMetadata(metadata: any): metadata is BingThreadMetadata {\r\n    return metadata?.conversationId;\r\n  }\r\n\r\n  getName(): string {\r\n    return `Bing ${this.conversationStyle.charAt(0).toUpperCase() + this.conversationStyle.slice(1)}`;\r\n  }\r\n\r\n  supportsImageInput(): boolean {\r\n    return true;\r\n  }\r\n\r\n  // Create a new conversation with Copilot\r\n  private async createConversation(): Promise<BingThreadMetadata> {\r\n    try {\r\n      // Check for permission first\r\n      if (!(await requestHostPermission('https://copilot.microsoft.com/'))) {\r\n        throw new AIModelError('Missing copilot.microsoft.com permission', ErrorCode.MISSING_HOST_PERMISSION);\r\n      }\r\n\r\n      const response = await fetch('https://copilot.microsoft.com/c/api/conversations', {\r\n        method: 'POST',\r\n        headers: {\r\n          'accept': 'application/json',\r\n          'accept-language': 'en-US,en;q=0.9',\r\n          'content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify({}),\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new AIModelError(`Failed to create conversation: ${response.status}`, ErrorCode.SERVICE_UNAVAILABLE);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Copilot conversation response:', data);\r\n\r\n      if (!data.id) {\r\n        throw new AIModelError('Failed to create Copilot conversation', ErrorCode.SERVICE_UNAVAILABLE);\r\n      }\r\n\r\n      return {\r\n        conversationId: data.id,\r\n        conversationStyle: this.conversationStyle\r\n      };\r\n    } catch (error) {\r\n      console.error('Error initializing Copilot session:', error);\r\n      throw new AIModelError(\r\n        'Failed to initialize Copilot session',\r\n        ErrorCode.UNAUTHORIZED\r\n      );\r\n    }\r\n  }\r\n\r\n  protected async doSendMessage(params: {\r\n    prompt: string;\r\n    image?: File;\r\n    signal?: AbortSignal;\r\n    onEvent: (event: { type: string; data?: any }) => void;\r\n  }): Promise<void> {\r\n    try {\r\n      // Check for permission first\r\n      if (!(await requestHostPermission('wss://copilot.microsoft.com/'))) {\r\n        throw new AIModelError('Missing copilot.microsoft.com permission', ErrorCode.MISSING_HOST_PERMISSION);\r\n      }\r\n\r\n      params.onEvent({\r\n        type: 'UPDATE_ANSWER',\r\n        data: { text: '' }\r\n      });\r\n\r\n      // Make sure we have a valid thread with the latest data from storage\r\n      await this.ensureThreadLoaded();\r\n\r\n      // Now we can safely assert that currentThread exists\r\n      const currentThread = this.getCurrentThreadSafe();\r\n\r\n      // Add user message\r\n      const userMessage = this.createMessage('user', params.prompt);\r\n      currentThread.messages.push(userMessage);\r\n\r\n      // Get Bing-specific metadata\r\n      const metadata = this.getBingMetadata();\r\n      \r\n      // Handle image upload if provided\r\n      if (params.image) {\r\n        throw new AIModelError('Image upload not yet implemented for new Copilot API', ErrorCode.UNKNOWN_ERROR);\r\n      }\r\n\r\n      let fullResponse = '';\r\n      let suggestedResponses: string[] = [];\r\n\r\n      // Create WebSocket connection\r\n      const ws = new WebSocket('wss://copilot.microsoft.com/c/api/chat?api-version=2');\r\n      \r\n      ws.onopen = () => {\r\n        console.log('WebSocket connection opened');\r\n        // Send the chat message once the connection is established\r\n        const chatMessage = {\r\n          event: \"send\",\r\n          mode: \"chat\",\r\n          conversationId: metadata.conversationId,\r\n          content: [\r\n            {\r\n              type: \"text\",\r\n              text: params.prompt\r\n            }\r\n          ]\r\n        };\r\n        ws.send(JSON.stringify(chatMessage));\r\n      };\r\n      \r\n      ws.onmessage = (event: WebSocket.MessageEvent) => {\r\n        try {\r\n          const data = event.data;\r\n          const response = JSON.parse(data);\r\n          console.log('WebSocket message:', response);\r\n          \r\n          if (response.event === \"received\") {\r\n            // Message received by the server\r\n            console.log('Message received by server:', response.messageId);\r\n          } else if (response.event === \"startMessage\") {\r\n            // Start of the assistant's response\r\n            console.log('Assistant starting response:', response.messageId);\r\n          } else if (response.event === \"appendText\") {\r\n            // Append text to the current response\r\n            fullResponse += response.text || '';\r\n            \r\n            // Update the UI with the current response\r\n            params.onEvent({\r\n              type: 'UPDATE_ANSWER',\r\n              data: { text: fullResponse }\r\n            });\r\n          } else if (response.event === \"done\") {\r\n            // End of the response\r\n            // Update thread with assistant's response\r\n            const assistantMessage = this.createMessage('assistant', fullResponse);\r\n            currentThread.messages.push(assistantMessage);\r\n            \r\n            // Update thread\r\n            currentThread.updatedAt = Date.now();\r\n            \r\n            // Save thread to storage\r\n            this.saveThread();\r\n            \r\n            params.onEvent({ type: 'DONE' });\r\n            \r\n            // Close the WebSocket\r\n            ws.close();\r\n          } else if (response.event === \"suggestedFollowups\" && response.suggestions) {\r\n            // Store suggested responses\r\n            suggestedResponses = response.suggestions.map((s: any) => s);\r\n            \r\n            // If we have an assistant message, add the suggestions as metadata\r\n            if (currentThread.messages.length > 0) {\r\n              const lastMessage = currentThread.messages[currentThread.messages.length - 1];\r\n              if (lastMessage.role === 'assistant') {\r\n                lastMessage.metadata = { suggestedResponses };\r\n                this.saveThread();\r\n              }\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('Error parsing Copilot response:', error);\r\n        }\r\n      };\r\n      \r\n      ws.onerror = (error: WebSocket.ErrorEvent) => {\r\n        console.error('WebSocket error:', error);\r\n        params.onEvent({\r\n          type: 'ERROR',\r\n          data: {\r\n            error: new AIModelError(\r\n              'WebSocket connection error',\r\n              ErrorCode.NETWORK_ERROR\r\n            )\r\n          }\r\n        });\r\n      };\r\n      \r\n      ws.onclose = () => {\r\n        console.log('WebSocket connection closed');\r\n      };\r\n\r\n      // Handle abort signal\r\n      if (params.signal) {\r\n        params.signal.addEventListener('abort', () => {\r\n          ws.close();\r\n        });\r\n      }\r\n    } catch (error) {\r\n      params.onEvent({\r\n        type: 'ERROR',\r\n        data: {\r\n          error: error instanceof AIModelError ? error : new AIModelError(\r\n            error instanceof Error ? error.message : String(error),\r\n            ErrorCode.NETWORK_ERROR\r\n          )\r\n        }\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n\r\nprivate async ensureThreadLoaded(): Promise<void> {\r\n  if (!this.currentThread) {\r\n    // Try to load the most recent thread for this model\r\n    const threads = await this.loadThreadsFromStorage();\r\n    const bingThreads = threads.filter(t => \r\n      t.modelName === this.getName() && this.isValidBingMetadata(t.metadata)\r\n    );\r\n    \r\n    if (bingThreads.length > 0) {\r\n      // Sort by most recent and use that thread\r\n      const mostRecentThread = bingThreads.sort((a, b) => b.updatedAt - a.updatedAt)[0];\r\n      this.currentThread = mostRecentThread;\r\n      console.log('Loaded existing thread from storage:', this.currentThread.id);\r\n    } else {\r\n      // Create a new thread if none exists\r\n      await this.initNewThread();\r\n    }\r\n  }\r\n}\r\n\r\nprivate getCurrentThreadSafe(): NonNullable<typeof this.currentThread> {\r\n  if (!this.currentThread) {\r\n    throw new AIModelError('No active thread', ErrorCode.INVALID_REQUEST);\r\n  }\r\n  return this.currentThread;\r\n}\r\n\r\nprivate getBingMetadata(): BingThreadMetadata {\r\n  const currentThread = this.getCurrentThreadSafe();\r\n  \r\n  if (!currentThread.metadata) {\r\n    throw new AIModelError('No thread metadata available', ErrorCode.INVALID_REQUEST);\r\n  }\r\n  \r\n  const metadata = currentThread.metadata as BingThreadMetadata;\r\n  if (!this.isValidBingMetadata(metadata)) {\r\n    throw new AIModelError('Invalid thread metadata', ErrorCode.INVALID_REQUEST);\r\n  }\r\n  \r\n  return metadata;\r\n}\r\n\r\nasync initNewThread(): Promise<void> {\r\n  const conversationInfo = await this.createConversation();\r\n  \r\n  this.currentThread = {\r\n    id: uuid(),\r\n    title: 'New Conversation',\r\n    messages: [],\r\n    createdAt: Date.now(),\r\n    updatedAt: Date.now(),\r\n    modelName: this.getName(),\r\n    metadata: conversationInfo\r\n  };\r\n  \r\n  await this.saveThread();\r\n}\r\n\r\nasync loadThread(threadId: string): Promise<void> {\r\n  const threads = await this.loadThreadsFromStorage();\r\n  const thread = threads.find(t => t.id === threadId);\r\n  \r\n  if (thread && thread.modelName === this.getName()) {\r\n    // For Bing/Copilot, we need to create a new conversation each time\r\n    // as the old conversations expire quickly\r\n    const conversationInfo = await this.createConversation();\r\n    \r\n    this.currentThread = {\r\n      ...thread,\r\n      metadata: conversationInfo\r\n    };\r\n    \r\n    await this.saveThread();\r\n  } else {\r\n    throw new Error('Thread not found');\r\n  }\r\n}\r\n\r\nprivate async uploadImage(image: File): Promise<string> {\r\n  try {\r\n    // Note: Image upload implementation would need to be updated for the new Copilot API\r\n    // This is a placeholder that would need to be implemented based on the actual API\r\n    throw new AIModelError('Image upload not yet implemented for new Copilot API', ErrorCode.UNKNOWN_ERROR);\r\n  } catch (error) {\r\n    throw new AIModelError('Failed to upload image to Copilot', ErrorCode.UNKNOWN_ERROR);\r\n  }\r\n}\r\n}"],"names":["this","Browser","uuid","fetch","BINARY_TYPES","hasBlob","EMPTY_BUFFER","require$$0","FastBuffer","concat","toArrayBuffer","toBuffer","bufferUtilModule","unmask","Limiter","require$$1","require$$2","kStatusCode","require$$3","kError","PerMessageDeflate","tokenChars","isValidStatusCode","isBlob","validationModule","kWebSocket","require$$4","Receiver","Duplex","NOOP","require$$5","Sender","kForOnEventAttribute","kListener","parse","format","extension","EventEmitter","http","createHash","require$$6","require$$8","require$$9","require$$10","require$$11","GUID","require$$12","require$$13","require$$14","require$$15","socketOnError","abortHandshake","WebSocket","emitClose","subprotocol","require$$7"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA,MAAMM,YAAU,GAAG;AACnB,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChD,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChD,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChD,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChD,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChD,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChD,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChD,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,mBAAiB,CAAC,IAAI,EAAE;AACjC,EAAE;AACF,IAAI,CAAC,IAAI,IAAI,IAAI;AACjB,MAAM,IAAI,IAAI,IAAI;AAClB,MAAM,IAAI,KAAK,IAAI;AACnB,MAAM,IAAI,KAAK,IAAI;AACnB,MAAM,IAAI,KAAK,IAAI;AACnB,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,YAAY,CAAC,GAAG,EAAE;AAC3B,EAAE,MAAM,GAAG,GAAG,GAAG,CAAC,MAAM;AACxB,EAAE,IAAI,CAAC,GAAG,CAAC;;AAEX,EAAE,OAAO,CAAC,GAAG,GAAG,EAAE;AAClB,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,EAAE;AAC/B;AACA,MAAM,CAAC,EAAE;AACT,KAAK,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI,EAAE;AACzC;AACA,MAAM;AACN,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG;AACrB,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;AACpC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;AAChC,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB;;AAEA,MAAM,CAAC,IAAI,CAAC;AACZ,KAAK,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI,EAAE;AACzC;AACA,MAAM;AACN,QAAQ,CAAC,GAAG,CAAC,IAAI,GAAG;AACpB,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;AACpC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;AACpC,SAAS,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI,CAAC;AACzD,SAAS,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI,CAAC;AACzD,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB;;AAEA,MAAM,CAAC,IAAI,CAAC;AACZ,KAAK,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI,EAAE;AACzC;AACA,MAAM;AACN,QAAQ,CAAC,GAAG,CAAC,IAAI,GAAG;AACpB,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;AACpC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;AACpC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;AACpC,SAAS,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI,CAAC;AACzD,SAAS,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;AAC9C,QAAQ,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI;AACrB,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB;;AAEA,MAAM,CAAC,IAAI,CAAC;AACZ,KAAK,MAAM;AACX,MAAM,OAAO,KAAK;AAClB;AACA;;AAEA,EAAE,OAAO,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,QAAM,CAAC,KAAK,EAAE;AACvB,EAAE;AACF,IAAI,OAAO;AACX,IAAI,OAAO,KAAK,KAAK,QAAQ;AAC7B,IAAI,OAAO,KAAK,CAAC,WAAW,KAAK,UAAU;AAC3C,IAAI,OAAO,KAAK,CAAC,IAAI,KAAK,QAAQ;AAClC,IAAI,OAAO,KAAK,CAAC,MAAM,KAAK,UAAU;AACtC,KAAK,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,MAAM;AACzC,MAAM,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,MAAM;AAC1C;AACA;;AAEAC,UAAA,CAAA,OAAc,GAAG;AACjB,UAAED,QAAM;AACR,qBAAED,mBAAiB;AACnB,EAAE,WAAW,EAAE,YAAY;AAC3B,cAAED;AACF,CAAC;;AAED,IAAI,MAAM,EAAE;AACZ,EAAE,aAA0B,GAAAG,UAAA,CAAA,OAAA,CAAA,WAAA,GAAG,UAAU,GAAG,EAAE;AAC9C,IAAI,OAAO,GAAG,CAAC,MAAM,GAAG,EAAE,GAAG,YAAY,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;AAC5D,GAAG;AACH,CAAC,kCAAkC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE;AAC1E,EAAE,IAAI;AACN,IAAI,MAAM,WAAW,GAAG,OAAA,CAAQ,gBAAgB,CAAC;;AAEjD,IAAI,aAA0B,GAAAA,UAAA,CAAA,OAAA,CAAA,WAAA,GAAG,UAAU,GAAG,EAAE;AAChD,MAAM,OAAO,GAAG,CAAC,MAAM,GAAG,EAAE,GAAG,YAAY,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,GAAG,CAAC;AACnE,KAAK;AACL,GAAG,CAAC,OAAO,CAAC,EAAE;AACd;AACA;AACA;;;;ACrJA,MAAM,EAAE,QAAQ,EAAE,GAAGjB,YAAiB;;AAEtC,MAAMa,mBAAiB,GAAGL,iBAA+B;AACzD,MAAM;AACN,gBAAEX,cAAY;AACd,gBAAEE,cAAY;AACd,eAAEW,aAAW;AACb,cAAEQ;AACF,CAAC,GAAGT,SAAsB;AAC1B,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,MAAM,EAAE,GAAGE,iBAAwB;AAClE,MAAM,qBAAEI,mBAAiB,EAAE,WAAW,EAAE,GAAGI,iBAAuB;;AAElE,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;;AAEzC,MAAM,QAAQ,GAAG,CAAC;AAClB,MAAM,qBAAqB,GAAG,CAAC;AAC/B,MAAM,qBAAqB,GAAG,CAAC;AAC/B,MAAM,QAAQ,GAAG,CAAC;AAClB,MAAM,QAAQ,GAAG,CAAC;AAClB,MAAM,SAAS,GAAG,CAAC;AACnB,MAAM,WAAW,GAAG,CAAC;;AAErB;AACA;AACA;AACA;AACA;iBACA,MAAM,QAAQ,SAAS,QAAQ,CAAC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,OAAO,GAAG,EAAE,EAAE;AAC5B,IAAI,KAAK,EAAE;;AAEX,IAAI,IAAI,CAAC,uBAAuB;AAChC,MAAM,OAAO,CAAC,sBAAsB,KAAK;AACzC,UAAU,OAAO,CAAC;AAClB,UAAU,IAAI;AACd,IAAI,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,UAAU,IAAItB,cAAY,CAAC,CAAC,CAAC;AAC5D,IAAI,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,UAAU,IAAI,EAAE;AAC/C,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,QAAQ;AACvC,IAAI,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,UAAU,GAAG,CAAC;AAC7C,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,OAAO,CAAC,kBAAkB;AAC3D,IAAI,IAAI,CAACqB,YAAU,CAAC,GAAG,SAAS;;AAEhC,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC;AAC3B,IAAI,IAAI,CAAC,QAAQ,GAAG,EAAE;;AAEtB,IAAI,IAAI,CAAC,WAAW,GAAG,KAAK;AAC5B,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC;AAC3B,IAAI,IAAI,CAAC,KAAK,GAAG,SAAS;AAC1B,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC;AACxB,IAAI,IAAI,CAAC,OAAO,GAAG,KAAK;AACxB,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK;AACrB,IAAI,IAAI,CAAC,OAAO,GAAG,CAAC;;AAEpB,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC;AAChC,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC;AAC3B,IAAI,IAAI,CAAC,UAAU,GAAG,EAAE;;AAExB,IAAI,IAAI,CAAC,QAAQ,GAAG,KAAK;AACzB,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK;AACtB,IAAI,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE;AAC9B,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAE,OAAO,EAAE,EAAE;;AAErE,IAAI,IAAI,CAAC,cAAc,IAAI,KAAK,CAAC,MAAM;AACvC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;AAC7B,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,CAAC,CAAC,EAAE;AACb,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC;;AAE5B,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;;AAEnE,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;AACrC,MAAM,MAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClC,MAAM,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,UAAU;AACvC,QAAQ,GAAG,CAAC,MAAM;AAClB,QAAQ,GAAG,CAAC,UAAU,GAAG,CAAC;AAC1B,QAAQ,GAAG,CAAC,MAAM,GAAG;AACrB,OAAO;;AAEP,MAAM,OAAO,IAAI,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;AAC1D;;AAEA,IAAI,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;;AAErC,IAAI,GAAG;AACP,MAAM,MAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClC,MAAM,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC;;AAEnC,MAAM,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,EAAE;AAC3B,QAAQ,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC;AAC9C,OAAO,MAAM;AACb,QAAQ,GAAG,CAAC,GAAG,CAAC,IAAI,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC;AACtE,QAAQ,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,UAAU;AACzC,UAAU,GAAG,CAAC,MAAM;AACpB,UAAU,GAAG,CAAC,UAAU,GAAG,CAAC;AAC5B,UAAU,GAAG,CAAC,MAAM,GAAG;AACvB,SAAS;AACT;;AAEA,MAAM,CAAC,IAAI,GAAG,CAAC,MAAM;AACrB,KAAK,QAAQ,CAAC,GAAG,CAAC;;AAElB,IAAI,OAAO,GAAG;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,CAAC,EAAE,EAAE;AAChB,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI;;AAErB,IAAI,GAAG;AACP,MAAM,QAAQ,IAAI,CAAC,MAAM;AACzB,QAAQ,KAAK,QAAQ;AACrB,UAAU,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;AAC1B,UAAU;AACV,QAAQ,KAAK,qBAAqB;AAClC,UAAU,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC;AACrC,UAAU;AACV,QAAQ,KAAK,qBAAqB;AAClC,UAAU,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC;AACrC,UAAU;AACV,QAAQ,KAAK,QAAQ;AACrB,UAAU,IAAI,CAAC,OAAO,EAAE;AACxB,UAAU;AACV,QAAQ,KAAK,QAAQ;AACrB,UAAU,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;AAC1B,UAAU;AACV,QAAQ,KAAK,SAAS;AACtB,QAAQ,KAAK,WAAW;AACxB,UAAU,IAAI,CAAC,KAAK,GAAG,KAAK;AAC5B,UAAU;AACV;AACA,KAAK,QAAQ,IAAI,CAAC,KAAK;;AAEvB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,EAAE;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,CAAC,EAAE,EAAE;AACd,IAAI,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE;AACjC,MAAM,IAAI,CAAC,KAAK,GAAG,KAAK;AACxB,MAAM;AACN;;AAEA,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;;AAE/B,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI,EAAE;AAClC,MAAM,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACpC,QAAQ,UAAU;AAClB,QAAQ,6BAA6B;AACrC,QAAQ,IAAI;AACZ,QAAQ,IAAI;AACZ,QAAQ;AACR,OAAO;;AAEP,MAAM,EAAE,CAAC,KAAK,CAAC;AACf,MAAM;AACN;;AAEA,IAAI,MAAM,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;;AAE/C,IAAI,IAAI,UAAU,IAAI,CAAC,IAAI,CAAC,WAAW,CAACL,mBAAiB,CAAC,aAAa,CAAC,EAAE;AAC1E,MAAM,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACpC,QAAQ,UAAU;AAClB,QAAQ,oBAAoB;AAC5B,QAAQ,IAAI;AACZ,QAAQ,IAAI;AACZ,QAAQ;AACR,OAAO;;AAEP,MAAM,EAAE,CAAC,KAAK,CAAC;AACf,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;AACxC,IAAI,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI;AAChC,IAAI,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI;;AAEvC,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;AAC/B,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,UAAU;AACpB,UAAU,oBAAoB;AAC9B,UAAU,IAAI;AACd,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;;AAEA,MAAM,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AAC7B,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,UAAU;AACpB,UAAU,kBAAkB;AAC5B,UAAU,IAAI;AACd,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;;AAEA,MAAM,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW;AACrC,KAAK,MAAM,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;AAC/D,MAAM,IAAI,IAAI,CAAC,WAAW,EAAE;AAC5B,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,UAAU;AACpB,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AAC1C,UAAU,IAAI;AACd,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;;AAEA,MAAM,IAAI,CAAC,WAAW,GAAG,UAAU;AACnC,KAAK,MAAM,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE;AAC3D,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;AACtB,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,UAAU;AACpB,UAAU,iBAAiB;AAC3B,UAAU,IAAI;AACd,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;;AAEA,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,UAAU;AACpB,UAAU,oBAAoB;AAC9B,UAAU,IAAI;AACd,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;;AAEA,MAAM;AACN,QAAQ,IAAI,CAAC,cAAc,GAAG,IAAI;AAClC,SAAS,IAAI,CAAC,OAAO,KAAK,IAAI,IAAI,IAAI,CAAC,cAAc,KAAK,CAAC;AAC3D,QAAQ;AACR,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,UAAU;AACpB,UAAU,CAAC,uBAAuB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;AACzD,UAAU,IAAI;AACd,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;AACA,KAAK,MAAM;AACX,MAAM,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACpC,QAAQ,UAAU;AAClB,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AACxC,QAAQ,IAAI;AACZ,QAAQ,IAAI;AACZ,QAAQ;AACR,OAAO;;AAEP,MAAM,EAAE,CAAC,KAAK,CAAC;AACf,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO;AACxE,IAAI,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI;;AAE3C,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;AACxB,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AACzB,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,UAAU;AACpB,UAAU,kBAAkB;AAC5B,UAAU,IAAI;AACd,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;AACA,KAAK,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;AAC7B,MAAM,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACpC,QAAQ,UAAU;AAClB,QAAQ,oBAAoB;AAC5B,QAAQ,IAAI;AACZ,QAAQ,IAAI;AACZ,QAAQ;AACR,OAAO;;AAEP,MAAM,EAAE,CAAC,KAAK,CAAC;AACf,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,CAAC,cAAc,KAAK,GAAG,EAAE,IAAI,CAAC,MAAM,GAAG,qBAAqB;AACxE,SAAS,IAAI,IAAI,CAAC,cAAc,KAAK,GAAG,EAAE,IAAI,CAAC,MAAM,GAAG,qBAAqB;AAC7E,SAAS,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,kBAAkB,CAAC,EAAE,EAAE;AACzB,IAAI,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE;AACjC,MAAM,IAAI,CAAC,KAAK,GAAG,KAAK;AACxB,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;AACzD,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,kBAAkB,CAAC,EAAE,EAAE;AACzB,IAAI,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE;AACjC,MAAM,IAAI,CAAC,KAAK,GAAG,KAAK;AACxB,MAAM;AACN;;AAEA,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;AAC/B,IAAI,MAAM,GAAG,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;;AAEnC;AACA;AACA;AACA;AACA,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE;AACxC,MAAM,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACpC,QAAQ,UAAU;AAClB,QAAQ,wDAAwD;AAChE,QAAQ,KAAK;AACb,QAAQ,IAAI;AACZ,QAAQ;AACR,OAAO;;AAEP,MAAM,EAAE,CAAC,KAAK,CAAC;AACf,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;AACrE,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,UAAU,CAAC,EAAE,EAAE;AACjB,IAAI,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE;AACpD,MAAM,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,cAAc;AACrD,MAAM,IAAI,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;AAC/E,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,UAAU;AACpB,UAAU,2BAA2B;AACrC,UAAU,KAAK;AACf,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;AACA;;AAEA,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC5C,SAAS,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,GAAG;AACZ,IAAI,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE;AACjC,MAAM,IAAI,CAAC,KAAK,GAAG,KAAK;AACxB,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;AAChC,IAAI,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,CAAC,EAAE,EAAE;AACd,IAAI,IAAI,IAAI,GAAGd,cAAY;;AAE3B,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;AAC7B,MAAM,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,EAAE;AACrD,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK;AAC1B,QAAQ;AACR;;AAEA,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;;AAE9C,MAAM;AACN,QAAQ,IAAI,CAAC,OAAO;AACpB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM;AAC5E,QAAQ;AACR,QAAQ,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;AAChC;AACA;;AAEA,IAAI,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE;AAC7B,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,EAAE,CAAC;AACnC,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;AAC1B,MAAM,IAAI,CAAC,MAAM,GAAG,SAAS;AAC7B,MAAM,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC;AAC/B,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;AACrB;AACA;AACA;AACA;AACA,MAAM,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,mBAAmB;AACpD,MAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;AAChC;;AAEA,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,UAAU,CAAC,IAAI,EAAE,EAAE,EAAE;AACvB,IAAI,MAAM,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAACc,mBAAiB,CAAC,aAAa,CAAC;;AAE/E,IAAI,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,KAAK;AAChE,MAAM,IAAI,GAAG,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC;;AAE7B,MAAM,IAAI,GAAG,CAAC,MAAM,EAAE;AACtB,QAAQ,IAAI,CAAC,cAAc,IAAI,GAAG,CAAC,MAAM;AACzC,QAAQ,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;AAC5E,UAAU,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACxC,YAAY,UAAU;AACtB,YAAY,2BAA2B;AACvC,YAAY,KAAK;AACjB,YAAY,IAAI;AAChB,YAAY;AACZ,WAAW;;AAEX,UAAU,EAAE,CAAC,KAAK,CAAC;AACnB,UAAU;AACV;;AAEA,QAAQ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;AACjC;;AAEA,MAAM,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;AAC1B,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;AACtD,KAAK,CAAC;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,EAAE,EAAE;AAClB,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;AACpB,MAAM,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC5B,MAAM;AACN;;AAEA,IAAI,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc;AAC7C,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU;;AAErC,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC;AAChC,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC;AAC3B,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC;AACxB,IAAI,IAAI,CAAC,UAAU,GAAG,EAAE;;AAExB,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;AAC5B,MAAM,IAAI,IAAI;;AAEd,MAAM,IAAI,IAAI,CAAC,WAAW,KAAK,YAAY,EAAE;AAC7C,QAAQ,IAAI,GAAG,MAAM,CAAC,SAAS,EAAE,aAAa,CAAC;AAC/C,OAAO,MAAM,IAAI,IAAI,CAAC,WAAW,KAAK,aAAa,EAAE;AACrD,QAAQ,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;AAC9D,OAAO,MAAM,IAAI,IAAI,CAAC,WAAW,KAAK,MAAM,EAAE;AAC9C,QAAQ,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC;AAClC,OAAO,MAAM;AACb,QAAQ,IAAI,GAAG,SAAS;AACxB;;AAEA,MAAM,IAAI,IAAI,CAAC,uBAAuB,EAAE;AACxC,QAAQ,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC;AACxC,QAAQ,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC9B,OAAO,MAAM;AACb,QAAQ,IAAI,CAAC,MAAM,GAAG,WAAW;AACjC,QAAQ,YAAY,CAAC,MAAM;AAC3B,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC;AAC1C,UAAU,IAAI,CAAC,MAAM,GAAG,QAAQ;AAChC,UAAU,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;AAC5B,SAAS,CAAC;AACV;AACA,KAAK,MAAM;AACX,MAAM,MAAM,GAAG,GAAG,MAAM,CAAC,SAAS,EAAE,aAAa,CAAC;;AAElD,MAAM,IAAI,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE;AAC1D,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACtC,UAAU,KAAK;AACf,UAAU,wBAAwB;AAClC,UAAU,IAAI;AACd,UAAU,IAAI;AACd,UAAU;AACV,SAAS;;AAET,QAAQ,EAAE,CAAC,KAAK,CAAC;AACjB,QAAQ;AACR;;AAEA,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,IAAI,IAAI,CAAC,uBAAuB,EAAE;AACrE,QAAQ,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,KAAK,CAAC;AACxC,QAAQ,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC9B,OAAO,MAAM;AACb,QAAQ,IAAI,CAAC,MAAM,GAAG,WAAW;AACjC,QAAQ,YAAY,CAAC,MAAM;AAC3B,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,KAAK,CAAC;AAC1C,UAAU,IAAI,CAAC,MAAM,GAAG,QAAQ;AAChC,UAAU,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;AAC5B,SAAS,CAAC;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,cAAc,CAAC,IAAI,EAAE,EAAE,EAAE;AAC3B,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;AAC/B,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AAC7B,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK;AAC1B,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAEd,cAAY,CAAC;AACjD,QAAQ,IAAI,CAAC,GAAG,EAAE;AAClB,OAAO,MAAM;AACb,QAAQ,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;;AAEzC,QAAQ,IAAI,CAACgB,mBAAiB,CAAC,IAAI,CAAC,EAAE;AACtC,UAAU,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACxC,YAAY,UAAU;AACtB,YAAY,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;AACzC,YAAY,IAAI;AAChB,YAAY,IAAI;AAChB,YAAY;AACZ,WAAW;;AAEX,UAAU,EAAE,CAAC,KAAK,CAAC;AACnB,UAAU;AACV;;AAEA,QAAQ,MAAM,GAAG,GAAG,IAAI,UAAU;AAClC,UAAU,IAAI,CAAC,MAAM;AACrB,UAAU,IAAI,CAAC,UAAU,GAAG,CAAC;AAC7B,UAAU,IAAI,CAAC,MAAM,GAAG;AACxB,SAAS;;AAET,QAAQ,IAAI,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE;AAC5D,UAAU,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW;AACxC,YAAY,KAAK;AACjB,YAAY,wBAAwB;AACpC,YAAY,IAAI;AAChB,YAAY,IAAI;AAChB,YAAY;AACZ,WAAW;;AAEX,UAAU,EAAE,CAAC,KAAK,CAAC;AACnB,UAAU;AACV;;AAEA,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK;AAC1B,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,GAAG,CAAC;AACxC,QAAQ,IAAI,CAAC,GAAG,EAAE;AAClB;;AAEA,MAAM,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC5B,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,CAAC,uBAAuB,EAAE;AACtC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,KAAK,IAAI,GAAG,MAAM,GAAG,MAAM,EAAE,IAAI,CAAC;AAC9D,MAAM,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC5B,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,MAAM,GAAG,WAAW;AAC/B,MAAM,YAAY,CAAC,MAAM;AACzB,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,KAAK,IAAI,GAAG,MAAM,GAAG,MAAM,EAAE,IAAI,CAAC;AAChE,QAAQ,IAAI,CAAC,MAAM,GAAG,QAAQ;AAC9B,QAAQ,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;AAC1B,OAAO,CAAC;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE;AACjE,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK;AACtB,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI;;AAExB,IAAI,MAAM,GAAG,GAAG,IAAI,SAAS;AAC7B,MAAM,MAAM,GAAG,CAAC,yBAAyB,EAAE,OAAO,CAAC,CAAC,GAAG;AACvD,KAAK;;AAEL,IAAI,KAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC;AAClD,IAAI,GAAG,CAAC,IAAI,GAAG,SAAS;AACxB,IAAI,GAAG,CAACL,aAAW,CAAC,GAAG,UAAU;AACjC,IAAI,OAAO,GAAG;AACd;AACA;;AAEA,IAAA,QAAc,GAAGU,UAAQ;;;;AC7rBzB,MAAM,UAAEC,QAAM,EAAE,GAAGrB,YAAiB;AACpC,MAAM,EAAE,cAAc,EAAE,GAAG,UAAiB;;AAE5C,MAAMa,mBAAiB,GAAGJ,iBAA+B;AACzD,MAAM,gBAAEV,cAAY,cAAEmB,YAAU,QAAEI,MAAI,EAAE,GAAGX,SAAsB;AACjE,MAAM,UAAEK,QAAM,EAAE,iBAAiB,EAAE,GAAGG,iBAAuB;AAC7D,MAAM,EAAE,IAAI,EAAE,SAAS,YAAEf,UAAQ,EAAE,GAAGmB,iBAAwB;;AAE9D,MAAM,WAAW,GAAG,MAAM,CAAC,aAAa,CAAC;AACzC,MAAM,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAClC,MAAM,gBAAgB,GAAG,CAAC,GAAG,IAAI;AACjC,IAAI,UAAU;AACd,IAAI,iBAAiB,GAAG,gBAAgB;;AAExC,MAAM,OAAO,GAAG,CAAC;AACjB,MAAM,SAAS,GAAG,CAAC;AACnB,MAAM,aAAa,GAAG,CAAC;;AAEvB;AACA;AACA;eACA,MAAM,MAAM,CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,MAAM,EAAE,UAAU,EAAE,YAAY,EAAE;AAChD,IAAI,IAAI,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE;;AAEvC,IAAI,IAAI,YAAY,EAAE;AACtB,MAAM,IAAI,CAAC,aAAa,GAAG,YAAY;AACvC,MAAM,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AACxC;;AAEA,IAAI,IAAI,CAAC,OAAO,GAAG,MAAM;;AAEzB,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI;AAC9B,IAAI,IAAI,CAAC,SAAS,GAAG,KAAK;;AAE1B,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC;AAC3B,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE;AACpB,IAAI,IAAI,CAAC,MAAM,GAAG,OAAO;AACzB,IAAI,IAAI,CAAC,OAAO,GAAGD,MAAI;AACvB,IAAI,IAAI,CAACJ,YAAU,CAAC,GAAG,SAAS;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,KAAK,CAAC,IAAI,EAAE,OAAO,EAAE;AAC9B,IAAI,IAAI,IAAI;AACZ,IAAI,IAAI,KAAK,GAAG,KAAK;AACrB,IAAI,IAAI,MAAM,GAAG,CAAC;AAClB,IAAI,IAAI,WAAW,GAAG,KAAK;;AAE3B,IAAI,IAAI,OAAO,CAAC,IAAI,EAAE;AACtB,MAAM,IAAI,GAAG,OAAO,CAAC,UAAU,IAAI,UAAU;;AAE7C,MAAM,IAAI,OAAO,CAAC,YAAY,EAAE;AAChC,QAAQ,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC;AAClC,OAAO,MAAM;AACb,QAAQ,IAAI,iBAAiB,KAAK,gBAAgB,EAAE;AACpD;AACA,UAAU,IAAI,UAAU,KAAK,SAAS,EAAE;AACxC;AACA;AACA;AACA;AACA,YAAY,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC;AACvD;;AAEA,UAAU,cAAc,CAAC,UAAU,EAAE,CAAC,EAAE,gBAAgB,CAAC;AACzD,UAAU,iBAAiB,GAAG,CAAC;AAC/B;;AAEA,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,iBAAiB,EAAE,CAAC;AACjD,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,iBAAiB,EAAE,CAAC;AACjD,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,iBAAiB,EAAE,CAAC;AACjD,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,iBAAiB,EAAE,CAAC;AACjD;;AAEA,MAAM,WAAW,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;AACjE,MAAM,MAAM,GAAG,CAAC;AAChB;;AAEA,IAAI,IAAI,UAAU;;AAElB,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAClC,MAAM;AACN,QAAQ,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,WAAW;AACrC,QAAQ,OAAO,CAAC,WAAW,CAAC,KAAK;AACjC,QAAQ;AACR,QAAQ,UAAU,GAAG,OAAO,CAAC,WAAW,CAAC;AACzC,OAAO,MAAM;AACb,QAAQ,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;AAChC,QAAQ,UAAU,GAAG,IAAI,CAAC,MAAM;AAChC;AACA,KAAK,MAAM;AACX,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM;AAC9B,MAAM,KAAK,GAAG,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,QAAQ,IAAI,CAAC,WAAW;AAC9D;;AAEA,IAAI,IAAI,aAAa,GAAG,UAAU;;AAElC,IAAI,IAAI,UAAU,IAAI,KAAK,EAAE;AAC7B,MAAM,MAAM,IAAI,CAAC;AACjB,MAAM,aAAa,GAAG,GAAG;AACzB,KAAK,MAAM,IAAI,UAAU,GAAG,GAAG,EAAE;AACjC,MAAM,MAAM,IAAI,CAAC;AACjB,MAAM,aAAa,GAAG,GAAG;AACzB;;AAEA,IAAI,MAAM,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC,KAAK,GAAG,UAAU,GAAG,MAAM,GAAG,MAAM,CAAC;;AAE3E,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,MAAM,GAAG,IAAI,GAAG,OAAO,CAAC,MAAM;AACpE,IAAI,IAAI,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI;;AAEvC,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,aAAa;;AAE7B,IAAI,IAAI,aAAa,KAAK,GAAG,EAAE;AAC/B,MAAM,MAAM,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC;AACzC,KAAK,MAAM,IAAI,aAAa,KAAK,GAAG,EAAE;AACtC,MAAM,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC;AAC/B,MAAM,MAAM,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;AAC1C;;AAEA,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC;;AAE5C,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI;AACrB,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AAChC,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AAChC,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AAChC,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;;AAEhC,IAAI,IAAI,WAAW,EAAE,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC;;AAE1C,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,CAAC;AACvD,MAAM,OAAO,CAAC,MAAM,CAAC;AACrB;;AAEA,IAAI,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,CAAC;AAC9C,IAAI,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE;AAC9B,IAAI,IAAI,GAAG;;AAEX,IAAI,IAAI,IAAI,KAAK,SAAS,EAAE;AAC5B,MAAM,GAAG,GAAGnB,cAAY;AACxB,KAAK,MAAM,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE;AACrE,MAAM,MAAM,IAAI,SAAS,CAAC,kDAAkD,CAAC;AAC7E,KAAK,MAAM,IAAI,IAAI,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AACnD,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;AACjC,MAAM,GAAG,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,CAAC;AAChC,KAAK,MAAM;AACX,MAAM,MAAM,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;;AAE5C,MAAM,IAAI,MAAM,GAAG,GAAG,EAAE;AACxB,QAAQ,MAAM,IAAI,UAAU,CAAC,gDAAgD,CAAC;AAC9E;;AAEA,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,GAAG,MAAM,CAAC;AAC1C,MAAM,GAAG,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,CAAC;;AAEhC,MAAM,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACpC,QAAQ,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;AAC1B,OAAO,MAAM;AACb,QAAQ,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB;AACA;;AAEA,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,CAAC,WAAW,GAAG,GAAG,CAAC,MAAM;AAC/B,MAAM,GAAG,EAAE,IAAI;AACf,MAAM,YAAY,EAAE,IAAI,CAAC,aAAa;AACtC,MAAM,IAAI;AACV,MAAM,UAAU,EAAE,IAAI,CAAC,WAAW;AAClC,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,QAAQ,EAAE,KAAK;AACrB,MAAM,IAAI,EAAE;AACZ,KAAK;;AAEL,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AACjC,MAAM,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;AAC5D,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE;AACvB,IAAI,IAAI,UAAU;AAClB,IAAI,IAAI,QAAQ;;AAEhB,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAClC,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;AAC1C,MAAM,QAAQ,GAAG,KAAK;AACtB,KAAK,MAAM,IAAIiB,QAAM,CAAC,IAAI,CAAC,EAAE;AAC7B,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI;AAC5B,MAAM,QAAQ,GAAG,KAAK;AACtB,KAAK,MAAM;AACX,MAAM,IAAI,GAAGZ,UAAQ,CAAC,IAAI,CAAC;AAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM;AAC9B,MAAM,QAAQ,GAAGA,UAAQ,CAAC,QAAQ;AAClC;;AAEA,IAAI,IAAI,UAAU,GAAG,GAAG,EAAE;AAC1B,MAAM,MAAM,IAAI,UAAU,CAAC,kDAAkD,CAAC;AAC9E;;AAEA,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,CAAC,WAAW,GAAG,UAAU;AAC/B,MAAM,GAAG,EAAE,IAAI;AACf,MAAM,YAAY,EAAE,IAAI,CAAC,aAAa;AACtC,MAAM,IAAI;AACV,MAAM,UAAU,EAAE,IAAI,CAAC,WAAW;AAClC,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,QAAQ;AACd,MAAM,IAAI,EAAE;AACZ,KAAK;;AAEL,IAAI,IAAIY,QAAM,CAAC,IAAI,CAAC,EAAE;AACtB,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AACnC,QAAQ,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;AAClE,OAAO,MAAM;AACb,QAAQ,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC;AAClD;AACA,KAAK,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AACxC,MAAM,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;AAC7D,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE;AACvB,IAAI,IAAI,UAAU;AAClB,IAAI,IAAI,QAAQ;;AAEhB,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAClC,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;AAC1C,MAAM,QAAQ,GAAG,KAAK;AACtB,KAAK,MAAM,IAAIA,QAAM,CAAC,IAAI,CAAC,EAAE;AAC7B,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI;AAC5B,MAAM,QAAQ,GAAG,KAAK;AACtB,KAAK,MAAM;AACX,MAAM,IAAI,GAAGZ,UAAQ,CAAC,IAAI,CAAC;AAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM;AAC9B,MAAM,QAAQ,GAAGA,UAAQ,CAAC,QAAQ;AAClC;;AAEA,IAAI,IAAI,UAAU,GAAG,GAAG,EAAE;AAC1B,MAAM,MAAM,IAAI,UAAU,CAAC,kDAAkD,CAAC;AAC9E;;AAEA,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,CAAC,WAAW,GAAG,UAAU;AAC/B,MAAM,GAAG,EAAE,IAAI;AACf,MAAM,YAAY,EAAE,IAAI,CAAC,aAAa;AACtC,MAAM,IAAI;AACV,MAAM,UAAU,EAAE,IAAI,CAAC,WAAW;AAClC,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,QAAQ;AACd,MAAM,IAAI,EAAE;AACZ,KAAK;;AAEL,IAAI,IAAIY,QAAM,CAAC,IAAI,CAAC,EAAE;AACtB,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AACnC,QAAQ,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;AAClE,OAAO,MAAM;AACb,QAAQ,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC;AAClD;AACA,KAAK,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AACxC,MAAM,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;AAC7D,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,EAAE;AAC1B,IAAI,MAAM,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAACH,mBAAiB,CAAC,aAAa,CAAC;AAC/E,IAAI,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC;AACvC,IAAI,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ;;AAE/B,IAAI,IAAI,UAAU;AAClB,IAAI,IAAI,QAAQ;;AAEhB,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAClC,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;AAC1C,MAAM,QAAQ,GAAG,KAAK;AACtB,KAAK,MAAM,IAAIG,QAAM,CAAC,IAAI,CAAC,EAAE;AAC7B,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI;AAC5B,MAAM,QAAQ,GAAG,KAAK;AACtB,KAAK,MAAM;AACX,MAAM,IAAI,GAAGZ,UAAQ,CAAC,IAAI,CAAC;AAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM;AAC9B,MAAM,QAAQ,GAAGA,UAAQ,CAAC,QAAQ;AAClC;;AAEA,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;AAC7B,MAAM,IAAI,CAAC,cAAc,GAAG,KAAK;AACjC,MAAM;AACN,QAAQ,IAAI;AACZ,QAAQ,iBAAiB;AACzB,QAAQ,iBAAiB,CAAC,MAAM;AAChC,UAAU,iBAAiB,CAAC;AAC5B,cAAc;AACd,cAAc;AACd;AACA,QAAQ;AACR,QAAQ,IAAI,GAAG,UAAU,IAAI,iBAAiB,CAAC,UAAU;AACzD;AACA,MAAM,IAAI,CAAC,SAAS,GAAG,IAAI;AAC3B,KAAK,MAAM;AACX,MAAM,IAAI,GAAG,KAAK;AAClB,MAAM,MAAM,GAAG,CAAC;AAChB;;AAEA,IAAI,IAAI,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,cAAc,GAAG,IAAI;;AAE/C,IAAI,MAAM,IAAI,GAAG;AACjB,MAAM,CAAC,WAAW,GAAG,UAAU;AAC/B,MAAM,GAAG,EAAE,OAAO,CAAC,GAAG;AACtB,MAAM,YAAY,EAAE,IAAI,CAAC,aAAa;AACtC,MAAM,IAAI,EAAE,OAAO,CAAC,IAAI;AACxB,MAAM,UAAU,EAAE,IAAI,CAAC,WAAW;AAClC,MAAM,MAAM;AACZ,MAAM,QAAQ;AACd,MAAM;AACN,KAAK;;AAEL,IAAI,IAAIY,QAAM,CAAC,IAAI,CAAC,EAAE;AACtB,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AACnC,QAAQ,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AACxE,OAAO,MAAM;AACb,QAAQ,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC;AACxD;AACA,KAAK,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AACxC,MAAM,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AACnE,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,EAAE;AAC3C,IAAI,IAAI,CAAC,cAAc,IAAI,OAAO,CAAC,WAAW,CAAC;AAC/C,IAAI,IAAI,CAAC,MAAM,GAAG,aAAa;;AAE/B,IAAI;AACJ,OAAO,WAAW;AAClB,OAAO,IAAI,CAAC,CAAC,WAAW,KAAK;AAC7B,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AACpC,UAAU,MAAM,GAAG,GAAG,IAAI,KAAK;AAC/B,YAAY;AACZ,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA,UAAU,OAAO,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC;AACxD,UAAU;AACV;;AAEA,QAAQ,IAAI,CAAC,cAAc,IAAI,OAAO,CAAC,WAAW,CAAC;AACnD,QAAQ,MAAM,IAAI,GAAGZ,UAAQ,CAAC,WAAW,CAAC;;AAE1C,QAAQ,IAAI,CAAC,QAAQ,EAAE;AACvB,UAAU,IAAI,CAAC,MAAM,GAAG,OAAO;AAC/B,UAAU,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC;AACzD,UAAU,IAAI,CAAC,OAAO,EAAE;AACxB,SAAS,MAAM;AACf,UAAU,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,CAAC;AACpD;AACA,OAAO;AACP,OAAO,KAAK,CAAC,CAAC,GAAG,KAAK;AACtB;AACA;AACA;AACA;AACA,QAAQ,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC;AAChD,OAAO,CAAC;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,EAAE;AACxC,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC;AACrD,MAAM;AACN;;AAEA,IAAI,MAAM,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAACS,mBAAiB,CAAC,aAAa,CAAC;;AAE/E,IAAI,IAAI,CAAC,cAAc,IAAI,OAAO,CAAC,WAAW,CAAC;AAC/C,IAAI,IAAI,CAAC,MAAM,GAAG,SAAS;AAC3B,IAAI,iBAAiB,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,KAAK;AAC9D,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AAClC,QAAQ,MAAM,GAAG,GAAG,IAAI,KAAK;AAC7B,UAAU;AACV,SAAS;;AAET,QAAQ,aAAa,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC;AACpC,QAAQ;AACR;;AAEA,MAAM,IAAI,CAAC,cAAc,IAAI,OAAO,CAAC,WAAW,CAAC;AACjD,MAAM,IAAI,CAAC,MAAM,GAAG,OAAO;AAC3B,MAAM,OAAO,CAAC,QAAQ,GAAG,KAAK;AAC9B,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC;AACpD,MAAM,IAAI,CAAC,OAAO,EAAE;AACpB,KAAK,CAAC;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,GAAG;AACZ,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;AAC1D,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;;AAExC,MAAM,IAAI,CAAC,cAAc,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;AACnD,MAAM,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,CAAC,MAAM,EAAE;AAClB,IAAI,IAAI,CAAC,cAAc,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;AACjD,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,CAAC,IAAI,EAAE,EAAE,EAAE;AACtB,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AAC3B,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;AACzB,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACjC,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AACrC,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AAC3B,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AACrC;AACA;AACA;;AAEA,IAAA,MAAc,GAAGW,QAAM;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,EAAE;AACxC,EAAE,IAAI,OAAO,EAAE,KAAK,UAAU,EAAE,EAAE,CAAC,GAAG,CAAC;;AAEvC,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACjD,IAAI,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;AACnC,IAAI,MAAM,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;;AAE9C,IAAI,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE,QAAQ,CAAC,GAAG,CAAC;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,EAAE;AAClC,EAAE,aAAa,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,CAAC;AAChC,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;AACrB;;ACvlBA,MAAM,wBAAEC,sBAAoB,aAAEC,WAAS,EAAE,GAAG1B,SAAsB;;AAElE,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC;AAC7B,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC;AAC7B,MAAM,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC;AAC/B,MAAM,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC;AACnC,MAAM,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC;AACjC,MAAM,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC;AACjC,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC;AAC7B,MAAM,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC;;AAErC;AACA;AACA;AACA,MAAM,KAAK,CAAC;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE;AACpB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI;AACxB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI;AACtB;;AAEA;AACA;AACA;AACA,EAAE,IAAI,MAAM,GAAG;AACf,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC;AACxB;;AAEA;AACA;AACA;AACA,EAAE,IAAI,IAAI,GAAG;AACb,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC;AACtB;AACA;;AAEA,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;AACtE,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;;AAEpE;AACA;AACA;AACA;AACA;AACA,MAAM,UAAU,SAAS,KAAK,CAAC;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE,OAAO,GAAG,EAAE,EAAE;AAClC,IAAI,KAAK,CAAC,IAAI,CAAC;;AAEf,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,IAAI,KAAK,SAAS,GAAG,CAAC,GAAG,OAAO,CAAC,IAAI;AAC/D,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,MAAM,KAAK,SAAS,GAAG,EAAE,GAAG,OAAO,CAAC,MAAM;AACtE,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC,QAAQ,KAAK,SAAS,GAAG,KAAK,GAAG,OAAO,CAAC,QAAQ;AAC/E;;AAEA;AACA;AACA;AACA,EAAE,IAAI,IAAI,GAAG;AACb,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC;AACtB;;AAEA;AACA;AACA;AACA,EAAE,IAAI,MAAM,GAAG;AACf,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC;AACxB;;AAEA;AACA;AACA;AACA,EAAE,IAAI,QAAQ,GAAG;AACjB,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC;AAC1B;AACA;;AAEA,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;AACzE,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;AAC3E,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,UAAU,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;;AAE7E;AACA;AACA;AACA;AACA;AACA,MAAM,UAAU,SAAS,KAAK,CAAC;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE,OAAO,GAAG,EAAE,EAAE;AAClC,IAAI,KAAK,CAAC,IAAI,CAAC;;AAEf,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,KAAK,KAAK,SAAS,GAAG,IAAI,GAAG,OAAO,CAAC,KAAK;AACrE,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,OAAO,KAAK,SAAS,GAAG,EAAE,GAAG,OAAO,CAAC,OAAO;AACzE;;AAEA;AACA;AACA;AACA,EAAE,IAAI,KAAK,GAAG;AACd,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC;AACvB;;AAEA;AACA;AACA;AACA,EAAE,IAAI,OAAO,GAAG;AAChB,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC;AACzB;AACA;;AAEA,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;AAC1E,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;;AAE5E;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY,SAAS,KAAK,CAAC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE,OAAO,GAAG,EAAE,EAAE;AAClC,IAAI,KAAK,CAAC,IAAI,CAAC;;AAEf,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,IAAI,KAAK,SAAS,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI;AAClE;;AAEA;AACA;AACA;AACA,EAAE,IAAI,IAAI,GAAG;AACb,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC;AACtB;AACA;;AAEA,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW,GAAG;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,gBAAgB,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,GAAG,EAAE,EAAE;AAChD,IAAI,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;AACjD,MAAM;AACN,QAAQ,CAAC,OAAO,CAACyB,sBAAoB,CAAC;AACtC,QAAQ,QAAQ,CAACC,WAAS,CAAC,KAAK,OAAO;AACvC,QAAQ,CAAC,QAAQ,CAACD,sBAAoB;AACtC,QAAQ;AACR,QAAQ;AACR;AACA;;AAEA,IAAI,IAAI,OAAO;;AAEf,IAAI,IAAI,IAAI,KAAK,SAAS,EAAE;AAC5B,MAAM,OAAO,GAAG,SAAS,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE;AACnD,QAAQ,MAAM,KAAK,GAAG,IAAI,YAAY,CAAC,SAAS,EAAE;AAClD,UAAU,IAAI,EAAE,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAC,QAAQ;AAC/C,SAAS,CAAC;;AAEV,QAAQ,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI;AAC7B,QAAQ,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC;AAC1C,OAAO;AACP,KAAK,MAAM,IAAI,IAAI,KAAK,OAAO,EAAE;AACjC,MAAM,OAAO,GAAG,SAAS,OAAO,CAAC,IAAI,EAAE,OAAO,EAAE;AAChD,QAAQ,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,OAAO,EAAE;AAC9C,UAAU,IAAI;AACd,UAAU,MAAM,EAAE,OAAO,CAAC,QAAQ,EAAE;AACpC,UAAU,QAAQ,EAAE,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC;AACrD,SAAS,CAAC;;AAEV,QAAQ,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI;AAC7B,QAAQ,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC;AAC1C,OAAO;AACP,KAAK,MAAM,IAAI,IAAI,KAAK,OAAO,EAAE;AACjC,MAAM,OAAO,GAAG,SAAS,OAAO,CAAC,KAAK,EAAE;AACxC,QAAQ,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,OAAO,EAAE;AAC9C,UAAU,KAAK;AACf,UAAU,OAAO,EAAE,KAAK,CAAC;AACzB,SAAS,CAAC;;AAEV,QAAQ,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI;AAC7B,QAAQ,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC;AAC1C,OAAO;AACP,KAAK,MAAM,IAAI,IAAI,KAAK,MAAM,EAAE;AAChC,MAAM,OAAO,GAAG,SAAS,MAAM,GAAG;AAClC,QAAQ,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC;;AAEvC,QAAQ,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI;AAC7B,QAAQ,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC;AAC1C,OAAO;AACP,KAAK,MAAM;AACX,MAAM;AACN;;AAEA,IAAI,OAAO,CAACA,sBAAoB,CAAC,GAAG,CAAC,CAAC,OAAO,CAACA,sBAAoB,CAAC;AACnE,IAAI,OAAO,CAACC,WAAS,CAAC,GAAG,OAAO;;AAEhC,IAAI,IAAI,OAAO,CAAC,IAAI,EAAE;AACtB,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC;AAC9B,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,OAAO,CAAC;AAC5B;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,mBAAmB,CAAC,IAAI,EAAE,OAAO,EAAE;AACrC,IAAI,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;AACjD,MAAM,IAAI,QAAQ,CAACA,WAAS,CAAC,KAAK,OAAO,IAAI,CAAC,QAAQ,CAACD,sBAAoB,CAAC,EAAE;AAC9E,QAAQ,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,CAAC;AAC3C,QAAQ;AACR;AACA;AACA;AACA,CAAC;;AAED,IAAA,WAAc,GAAG;AACjB,EAGE,WAEF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,YAAY,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;AAChD,EAAE,IAAI,OAAO,QAAQ,KAAK,QAAQ,IAAI,QAAQ,CAAC,WAAW,EAAE;AAC5D,IAAI,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC;AAC9C,GAAG,MAAM;AACT,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;AACjC;AACA;;ACjSA,MAAM,cAAEX,YAAU,EAAE,GAAGd,iBAAuB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AAChC,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;AACnD,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS2B,OAAK,CAAC,MAAM,EAAE;AACvB,EAAE,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AACpC,EAAE,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AAClC,EAAE,IAAI,YAAY,GAAG,KAAK;AAC1B,EAAE,IAAI,UAAU,GAAG,KAAK;AACxB,EAAE,IAAI,QAAQ,GAAG,KAAK;AACtB,EAAE,IAAI,aAAa;AACnB,EAAE,IAAI,SAAS;AACf,EAAE,IAAI,KAAK,GAAG,EAAE;AAChB,EAAE,IAAI,IAAI,GAAG,EAAE;AACf,EAAE,IAAI,GAAG,GAAG,EAAE;AACd,EAAE,IAAI,CAAC,GAAG,CAAC;;AAEX,EAAE,OAAO,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACjC,IAAI,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;;AAE/B,IAAI,IAAI,aAAa,KAAK,SAAS,EAAE;AACrC,MAAM,IAAI,GAAG,KAAK,EAAE,IAAIb,YAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AAChD,QAAQ,IAAI,KAAK,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC;AACnC,OAAO,MAAM;AACb,QAAQ,CAAC,KAAK,CAAC;AACf,SAAS,IAAI,KAAK,IAAI,cAAc,IAAI,KAAK,IAAI,CAAC;AAClD,QAAQ;AACR,QAAQ,IAAI,GAAG,KAAK,EAAE,IAAI,KAAK,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;AAC/C,OAAO,MAAM,IAAI,IAAI,KAAK,IAAI,cAAc,IAAI,KAAK,IAAI,YAAY;AACrE,QAAQ,IAAI,KAAK,KAAK,EAAE,EAAE;AAC1B,UAAU,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACrE;;AAEA,QAAQ,IAAI,GAAG,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;AAC/B,QAAQ,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC;AAC7C,QAAQ,IAAI,IAAI,KAAK,IAAI,EAAE;AAC3B,UAAU,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,CAAC;AACpC,UAAU,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AACtC,SAAS,MAAM;AACf,UAAU,aAAa,GAAG,IAAI;AAC9B;;AAEA,QAAQ,KAAK,GAAG,GAAG,GAAG,EAAE;AACxB,OAAO,MAAM;AACb,QAAQ,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACnE;AACA,KAAK,MAAM,IAAI,SAAS,KAAK,SAAS,EAAE;AACxC,MAAM,IAAI,GAAG,KAAK,EAAE,IAAIA,YAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AAChD,QAAQ,IAAI,KAAK,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC;AACnC,OAAO,MAAM,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,EAAE;AACjD,QAAQ,IAAI,GAAG,KAAK,EAAE,IAAI,KAAK,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;AAC/C,OAAO,MAAM,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,EAAE;AACjD,QAAQ,IAAI,KAAK,KAAK,EAAE,EAAE;AAC1B,UAAU,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACrE;;AAEA,QAAQ,IAAI,GAAG,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;AAC/B,QAAQ,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC;AACpD,QAAQ,IAAI,IAAI,KAAK,IAAI,EAAE;AAC3B,UAAU,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,MAAM,CAAC;AAC7C,UAAU,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AACtC,UAAU,aAAa,GAAG,SAAS;AACnC;;AAEA,QAAQ,KAAK,GAAG,GAAG,GAAG,EAAE;AACxB,OAAO,MAAM,IAAI,IAAI,KAAK,IAAI,cAAc,KAAK,KAAK,EAAE,IAAI,GAAG,KAAK,EAAE,EAAE;AACxE,QAAQ,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;AAC1C,QAAQ,KAAK,GAAG,GAAG,GAAG,EAAE;AACxB,OAAO,MAAM;AACb,QAAQ,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACnE;AACA,KAAK,MAAM;AACX;AACA;AACA;AACA;AACA;AACA,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,IAAIA,YAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACpC,UAAU,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACrE;AACA,QAAQ,IAAI,KAAK,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC;AACnC,aAAa,IAAI,CAAC,YAAY,EAAE,YAAY,GAAG,IAAI;AACnD,QAAQ,UAAU,GAAG,KAAK;AAC1B,OAAO,MAAM,IAAI,QAAQ,EAAE;AAC3B,QAAQ,IAAIA,YAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACpC,UAAU,IAAI,KAAK,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC;AACrC,SAAS,MAAM,IAAI,IAAI,KAAK,IAAI,cAAc,KAAK,KAAK,EAAE,EAAE;AAC5D,UAAU,QAAQ,GAAG,KAAK;AAC1B,UAAU,GAAG,GAAG,CAAC;AACjB,SAAS,MAAM,IAAI,IAAI,KAAK,IAAI,YAAY;AAC5C,UAAU,UAAU,GAAG,IAAI;AAC3B,SAAS,MAAM;AACf,UAAU,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACrE;AACA,OAAO,MAAM,IAAI,IAAI,KAAK,IAAI,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,IAAI,EAAE;AACrE,QAAQ,QAAQ,GAAG,IAAI;AACvB,OAAO,MAAM,IAAI,GAAG,KAAK,EAAE,IAAIA,YAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACvD,QAAQ,IAAI,KAAK,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC;AACnC,OAAO,MAAM,IAAI,KAAK,KAAK,EAAE,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,EAAE;AACnE,QAAQ,IAAI,GAAG,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;AAC/B,OAAO,MAAM,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,EAAE;AACjD,QAAQ,IAAI,KAAK,KAAK,EAAE,EAAE;AAC1B,UAAU,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACrE;;AAEA,QAAQ,IAAI,GAAG,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;AAC/B,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC;AAC5C,QAAQ,IAAI,YAAY,EAAE;AAC1B,UAAU,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;AAC1C,UAAU,YAAY,GAAG,KAAK;AAC9B;AACA,QAAQ,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,KAAK,CAAC;AACtC,QAAQ,IAAI,IAAI,KAAK,IAAI,EAAE;AAC3B,UAAU,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,MAAM,CAAC;AAC7C,UAAU,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AACtC,UAAU,aAAa,GAAG,SAAS;AACnC;;AAEA,QAAQ,SAAS,GAAG,SAAS;AAC7B,QAAQ,KAAK,GAAG,GAAG,GAAG,EAAE;AACxB,OAAO,MAAM;AACb,QAAQ,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACnE;AACA;AACA;;AAEA,EAAE,IAAI,KAAK,KAAK,EAAE,IAAI,QAAQ,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,EAAE;AAClE,IAAI,MAAM,IAAI,WAAW,CAAC,yBAAyB,CAAC;AACpD;;AAEA,EAAE,IAAI,GAAG,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;AACzB,EAAE,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC;AACxC,EAAE,IAAI,aAAa,KAAK,SAAS,EAAE;AACnC,IAAI,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC;AAC/B,GAAG,MAAM;AACT,IAAI,IAAI,SAAS,KAAK,SAAS,EAAE;AACjC,MAAM,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC;AAC/B,KAAK,MAAM,IAAI,YAAY,EAAE;AAC7B,MAAM,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACvD,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,KAAK,CAAC;AACpC;AACA,IAAI,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,MAAM,CAAC;AACvC;;AAEA,EAAE,OAAO,MAAM;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASc,QAAM,CAAC,UAAU,EAAE;AAC5B,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,UAAU;AAC/B,KAAK,GAAG,CAAC,CAAC,SAAS,KAAK;AACxB,MAAM,IAAI,cAAc,GAAG,UAAU,CAAC,SAAS,CAAC;AAChD,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,cAAc,GAAG,CAAC,cAAc,CAAC;AAC3E,MAAM,OAAO;AACb,SAAS,GAAG,CAAC,CAAC,MAAM,KAAK;AACzB,UAAU,OAAO,CAAC,SAAS;AAC3B,aAAa,MAAM;AACnB,cAAc,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK;AAC7C,gBAAgB,IAAI,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC;AACtC,gBAAgB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,MAAM,GAAG,CAAC,MAAM,CAAC;AAC7D,gBAAgB,OAAO;AACvB,mBAAmB,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5D,mBAAmB,IAAI,CAAC,IAAI,CAAC;AAC7B,eAAe;AACf;AACA,aAAa,IAAI,CAAC,IAAI,CAAC;AACvB,SAAS;AACT,SAAS,IAAI,CAAC,IAAI,CAAC;AACnB,KAAK;AACL,KAAK,IAAI,CAAC,IAAI,CAAC;AACf;;AAEA,IAAAC,WAAc,GAAG,UAAED,QAAM,SAAED,OAAK,EAAE;;;;ACtMlC,MAAMG,cAAY,GAAG9B,YAAiB;AACtC,MAAM,KAAK,GAAGQ,YAAgB;AAC9B,MAAMuB,MAAI,GAAG,UAAe;AAC5B,MAAM,GAAG,GAAG,UAAc;AAC1B,MAAM,GAAG,GAAG,UAAc;AAC1B,MAAM,EAAE,WAAW,cAAEC,YAAU,EAAE,GAAGT,UAAiB;AACrD,MAAM,UAAEF,QAAM,EAAE,QAAQ,EAAE,GAAGY,YAAiB;AAC9C,MAAM,EAAE,GAAG,EAAE,GAAG,UAAc;;AAE9B,MAAMpB,mBAAiB,GAAGqB,iBAA+B;AACzD,MAAM,QAAQ,GAAGC,QAAqB;AACtC,MAAM,MAAM,GAAGC,MAAmB;AAClC,MAAM,EAAE,MAAM,EAAE,GAAGC,iBAAuB;;AAE1C,MAAM;AACN,EAAE,YAAY;AACd,EAAE,YAAY;AACd,QAAEC,MAAI;AACN,EAAE,oBAAoB;AACtB,EAAE,SAAS;AACX,EAAE,WAAW;AACb,cAAEpB,YAAU;AACZ,EAAE;AACF,CAAC,GAAGqB,SAAsB;AAC1B,MAAM;AACN,EAAE,WAAW,EAAE,EAAE,gBAAgB,EAAE,mBAAmB;AACtD,CAAC,GAAGC,WAAyB;AAC7B,MAAM,EAAE,MAAM,SAAEb,OAAK,EAAE,GAAGc,WAAsB;AAChD,MAAM,EAAE,QAAQ,EAAE,GAAGC,iBAAwB;;AAE7C,MAAM,YAAY,GAAG,EAAE,GAAG,IAAI;AAC9B,MAAM,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC;AACnC,MAAM,gBAAgB,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AAChC,MAAM,WAAW,GAAG,CAAC,YAAY,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,CAAC;AAC/D,MAAM,gBAAgB,GAAG,gCAAgC;;AAEzD;AACA;AACA;AACA;AACA;kBACA,MAAM,SAAS,SAASZ,cAAY,CAAC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE;AAC3C,IAAI,KAAK,EAAE;;AAEX,IAAI,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC,CAAC,CAAC;AACtC,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI;AAC1B,IAAI,IAAI,CAAC,mBAAmB,GAAG,KAAK;AACpC,IAAI,IAAI,CAAC,eAAe,GAAG,KAAK;AAChC,IAAI,IAAI,CAAC,aAAa,GAAG,YAAY;AACrC,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI;AAC3B,IAAI,IAAI,CAAC,aAAa,GAAG,KAAK;AAC9B,IAAI,IAAI,CAAC,WAAW,GAAG,EAAE;AACzB,IAAI,IAAI,CAAC,OAAO,GAAG,KAAK;AACxB,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE;AACvB,IAAI,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,UAAU;AAC3C,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI;AACzB,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI;AACvB,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI;;AAEvB,IAAI,IAAI,OAAO,KAAK,IAAI,EAAE;AAC1B,MAAM,IAAI,CAAC,eAAe,GAAG,CAAC;AAC9B,MAAM,IAAI,CAAC,SAAS,GAAG,KAAK;AAC5B,MAAM,IAAI,CAAC,UAAU,GAAG,CAAC;;AAEzB,MAAM,IAAI,SAAS,KAAK,SAAS,EAAE;AACnC,QAAQ,SAAS,GAAG,EAAE;AACtB,OAAO,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AAC5C,QAAQ,IAAI,OAAO,SAAS,KAAK,QAAQ,IAAI,SAAS,KAAK,IAAI,EAAE;AACjE,UAAU,OAAO,GAAG,SAAS;AAC7B,UAAU,SAAS,GAAG,EAAE;AACxB,SAAS,MAAM;AACf,UAAU,SAAS,GAAG,CAAC,SAAS,CAAC;AACjC;AACA;;AAEA,MAAM,YAAY,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,CAAC;AACrD,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ;AACvC,MAAM,IAAI,CAAC,SAAS,GAAG,IAAI;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,UAAU,GAAG;AACnB,IAAI,OAAO,IAAI,CAAC,WAAW;AAC3B;;AAEA,EAAE,IAAI,UAAU,CAAC,IAAI,EAAE;AACvB,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;;AAEtC,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI;;AAE3B;AACA;AACA;AACA,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI;AACzD;;AAEA;AACA;AACA;AACA,EAAE,IAAI,cAAc,GAAG;AACvB,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,IAAI,CAAC,eAAe;;AAElD,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc;AAC3E;;AAEA;AACA;AACA;AACA,EAAE,IAAI,UAAU,GAAG;AACnB,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE;AAC/C;;AAEA;AACA;AACA;AACA,EAAE,IAAI,QAAQ,GAAG;AACjB,IAAI,OAAO,IAAI,CAAC,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAAI,OAAO,GAAG;AAChB,IAAI,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAAI,OAAO,GAAG;AAChB,IAAI,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAAI,MAAM,GAAG;AACf,IAAI,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAAI,SAAS,GAAG;AAClB,IAAI,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA,EAAE,IAAI,QAAQ,GAAG;AACjB,IAAI,OAAO,IAAI,CAAC,SAAS;AACzB;;AAEA;AACA;AACA;AACA,EAAE,IAAI,UAAU,GAAG;AACnB,IAAI,OAAO,IAAI,CAAC,WAAW;AAC3B;;AAEA;AACA;AACA;AACA,EAAE,IAAI,GAAG,GAAG;AACZ,IAAI,OAAO,IAAI,CAAC,IAAI;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE;AACnC,IAAI,MAAM,QAAQ,GAAG,IAAI,QAAQ,CAAC;AAClC,MAAM,sBAAsB,EAAE,OAAO,CAAC,sBAAsB;AAC5D,MAAM,UAAU,EAAE,IAAI,CAAC,UAAU;AACjC,MAAM,UAAU,EAAE,IAAI,CAAC,WAAW;AAClC,MAAM,QAAQ,EAAE,IAAI,CAAC,SAAS;AAC9B,MAAM,UAAU,EAAE,OAAO,CAAC,UAAU;AACpC,MAAM,kBAAkB,EAAE,OAAO,CAAC;AAClC,KAAK,CAAC;;AAEN,IAAI,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,YAAY,CAAC;;AAE7E,IAAI,IAAI,CAAC,SAAS,GAAG,QAAQ;AAC7B,IAAI,IAAI,CAAC,OAAO,GAAG,MAAM;AACzB,IAAI,IAAI,CAAC,OAAO,GAAG,MAAM;;AAEzB,IAAI,QAAQ,CAACZ,YAAU,CAAC,GAAG,IAAI;AAC/B,IAAI,MAAM,CAACA,YAAU,CAAC,GAAG,IAAI;AAC7B,IAAI,MAAM,CAACA,YAAU,CAAC,GAAG,IAAI;;AAE7B,IAAI,QAAQ,CAAC,EAAE,CAAC,UAAU,EAAE,kBAAkB,CAAC;AAC/C,IAAI,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,eAAe,CAAC;AACzC,IAAI,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,eAAe,CAAC;AACzC,IAAI,QAAQ,CAAC,EAAE,CAAC,SAAS,EAAE,iBAAiB,CAAC;AAC7C,IAAI,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,cAAc,CAAC;AACvC,IAAI,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,cAAc,CAAC;;AAEvC,IAAI,MAAM,CAAC,OAAO,GAAG,aAAa;;AAElC;AACA;AACA;AACA,IAAI,IAAI,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;AAC/C,IAAI,IAAI,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,UAAU,EAAE;;AAE9C,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;;AAE7C,IAAI,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,aAAa,CAAC;AACrC,IAAI,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY,CAAC;AACnC,IAAI,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,WAAW,CAAC;AACjC,IAAI,MAAM,CAAC,EAAE,CAAC,OAAO,EAAEyB,eAAa,CAAC;;AAErC,IAAI,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,IAAI;AACrC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,GAAG;AACd,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AACvB,MAAM,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,MAAM;AACzC,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;AAC7D,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC9B,mBAAiB,CAAC,aAAa,CAAC,EAAE;AAC3D,MAAM,IAAI,CAAC,WAAW,CAACA,mBAAiB,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE;AACjE;;AAEA,IAAI,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE;AACvC,IAAI,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,MAAM;AACvC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE;AACpB,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,MAAM,EAAE;AAC9C,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU,EAAE;AAClD,MAAM,MAAM,GAAG,GAAG,4DAA4D;AAC9E,MAAM+B,gBAAc,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AAC1C,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,OAAO,EAAE;AAC/C,MAAM;AACN,QAAQ,IAAI,CAAC,eAAe;AAC5B,SAAS,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,YAAY;AAC/E,QAAQ;AACR,QAAQ,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;AAC1B;;AAEA,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,OAAO;AACxC,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,GAAG,KAAK;AAC7D;AACA;AACA;AACA;AACA,MAAM,IAAI,GAAG,EAAE;;AAEf,MAAM,IAAI,CAAC,eAAe,GAAG,IAAI;;AAEjC,MAAM;AACN,QAAQ,IAAI,CAAC,mBAAmB;AAChC,QAAQ,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC;AACtC,QAAQ;AACR,QAAQ,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;AAC1B;AACA,KAAK,CAAC;;AAEN,IAAI,aAAa,CAAC,IAAI,CAAC;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,KAAK,GAAG;AACV,IAAI;AACJ,MAAM,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU;AAC9C,MAAM,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC;AACpC,MAAM;AACN,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI;AACvB,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE;AACvB,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU,EAAE;AAClD,MAAM,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC;AACzE;;AAEA,IAAI,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AACpC,MAAM,EAAE,GAAG,IAAI;AACf,MAAM,IAAI,GAAG,IAAI,GAAG,SAAS;AAC7B,KAAK,MAAM,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AAC3C,MAAM,EAAE,GAAG,IAAI;AACf,MAAM,IAAI,GAAG,SAAS;AACtB;;AAEA,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE;;AAExD,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,IAAI,EAAE;AAC5C,MAAM,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC;AACpC,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,KAAK,SAAS,EAAE,IAAI,GAAG,CAAC,IAAI,CAAC,SAAS;AAClD,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,YAAY,EAAE,IAAI,EAAE,EAAE,CAAC;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE;AACvB,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU,EAAE;AAClD,MAAM,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC;AACzE;;AAEA,IAAI,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AACpC,MAAM,EAAE,GAAG,IAAI;AACf,MAAM,IAAI,GAAG,IAAI,GAAG,SAAS;AAC7B,KAAK,MAAM,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AAC3C,MAAM,EAAE,GAAG,IAAI;AACf,MAAM,IAAI,GAAG,SAAS;AACtB;;AAEA,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE;;AAExD,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,IAAI,EAAE;AAC5C,MAAM,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC;AACpC,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,KAAK,SAAS,EAAE,IAAI,GAAG,CAAC,IAAI,CAAC,SAAS;AAClD,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,YAAY,EAAE,IAAI,EAAE,EAAE,CAAC;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,GAAG;AACX,IAAI;AACJ,MAAM,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU;AAC9C,MAAM,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC;AACpC,MAAM;AACN,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,OAAO,GAAG,KAAK;AACxB,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,EAAE;AAC1B,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU,EAAE;AAClD,MAAM,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC;AACzE;;AAEA,IAAI,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;AACvC,MAAM,EAAE,GAAG,OAAO;AAClB,MAAM,OAAO,GAAG,EAAE;AAClB;;AAEA,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE;;AAExD,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,IAAI,EAAE;AAC5C,MAAM,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC;AACpC,MAAM;AACN;;AAEA,IAAI,MAAM,IAAI,GAAG;AACjB,MAAM,MAAM,EAAE,OAAO,IAAI,KAAK,QAAQ;AACtC,MAAM,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS;AAC3B,MAAM,QAAQ,EAAE,IAAI;AACpB,MAAM,GAAG,EAAE,IAAI;AACf,MAAM,GAAG;AACT,KAAK;;AAEL,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC/B,mBAAiB,CAAC,aAAa,CAAC,EAAE;AAC5D,MAAM,IAAI,CAAC,QAAQ,GAAG,KAAK;AAC3B;;AAEA,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,YAAY,EAAE,IAAI,EAAE,EAAE,CAAC;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,GAAG;AACd,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,MAAM,EAAE;AAC9C,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU,EAAE;AAClD,MAAM,MAAM,GAAG,GAAG,4DAA4D;AAC9E,MAAM+B,gBAAc,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AAC1C,MAAM;AACN;;AAEA,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,MAAM,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,OAAO;AAC1C,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAACC,WAAS,EAAE,YAAY,EAAE;AAC/C,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,YAAY;AACzC,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAACA,WAAS,CAAC,SAAS,EAAE,YAAY,EAAE;AACzD,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,YAAY;AACzC,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAACA,WAAS,EAAE,MAAM,EAAE;AACzC,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,MAAM;AACnC,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAACA,WAAS,CAAC,SAAS,EAAE,MAAM,EAAE;AACnD,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,MAAM;AACnC,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAACA,WAAS,EAAE,SAAS,EAAE;AAC5C,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,SAAS;AACtC,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAACA,WAAS,CAAC,SAAS,EAAE,SAAS,EAAE;AACtD,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,SAAS;AACtC,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAACA,WAAS,EAAE,QAAQ,EAAE;AAC3C,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,QAAQ;AACrC,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAACA,WAAS,CAAC,SAAS,EAAE,QAAQ,EAAE;AACrD,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,QAAQ;AACrC,CAAC,CAAC;;AAEF;AACA,EAAE,YAAY;AACd,EAAE,gBAAgB;AAClB,EAAE,YAAY;AACd,EAAE,UAAU;AACZ,EAAE,UAAU;AACZ,EAAE,YAAY;AACd,EAAE;AACF,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK;AACxB,EAAE,MAAM,CAAC,cAAc,CAACA,WAAS,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;AAC5E,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;AAC1D,EAAE,MAAM,CAAC,cAAc,CAACA,WAAS,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;AAC5D,IAAI,UAAU,EAAE,IAAI;AACpB,IAAI,GAAG,GAAG;AACV,MAAM,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;AACrD,QAAQ,IAAI,QAAQ,CAAC,oBAAoB,CAAC,EAAE,OAAO,QAAQ,CAAC,SAAS,CAAC;AACtE;;AAEA,MAAM,OAAO,IAAI;AACjB,KAAK;AACL,IAAI,GAAG,CAAC,OAAO,EAAE;AACjB,MAAM,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;AACrD,QAAQ,IAAI,QAAQ,CAAC,oBAAoB,CAAC,EAAE;AAC5C,UAAU,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC;AAC/C,UAAU;AACV;AACA;;AAEA,MAAM,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;;AAEzC,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,OAAO,EAAE;AAC7C,QAAQ,CAAC,oBAAoB,GAAG;AAChC,OAAO,CAAC;AACR;AACA,GAAG,CAAC;AACJ,CAAC,CAAC;;AAEFA,WAAS,CAAC,SAAS,CAAC,gBAAgB,GAAG,gBAAgB;AACvDA,WAAS,CAAC,SAAS,CAAC,mBAAmB,GAAG,mBAAmB;;AAE7D,IAAA,SAAc,GAAGA,WAAS;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,YAAY,CAAC,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE;AAC9D,EAAE,MAAM,IAAI,GAAG;AACf,IAAI,sBAAsB,EAAE,IAAI;AAChC,IAAI,QAAQ,EAAE,IAAI;AAClB,IAAI,eAAe,EAAE,gBAAgB,CAAC,CAAC,CAAC;AACxC,IAAI,UAAU,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI;AACjC,IAAI,kBAAkB,EAAE,KAAK;AAC7B,IAAI,iBAAiB,EAAE,IAAI;AAC3B,IAAI,eAAe,EAAE,KAAK;AAC1B,IAAI,YAAY,EAAE,EAAE;AACpB,IAAI,GAAG,OAAO;AACd,IAAI,UAAU,EAAE,SAAS;AACzB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,OAAO,EAAE,SAAS;AACtB,IAAI,MAAM,EAAE,KAAK;AACjB,IAAI,IAAI,EAAE,SAAS;AACnB,IAAI,IAAI,EAAE,SAAS;AACnB,IAAI,IAAI,EAAE;AACV,GAAG;;AAEH,EAAE,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ;;AAErC,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE;AACxD,IAAI,MAAM,IAAI,UAAU;AACxB,MAAM,CAAC,8BAA8B,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;AAC9D,QAAQ,CAAC,qBAAqB,EAAE,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC7D,KAAK;AACL;;AAEA,EAAE,IAAI,SAAS;;AAEf,EAAE,IAAI,OAAO,YAAY,GAAG,EAAE;AAC9B,IAAI,SAAS,GAAG,OAAO;AACvB,GAAG,MAAM;AACT,IAAI,IAAI;AACR,MAAM,SAAS,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC;AAClC,KAAK,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,MAAM,IAAI,WAAW,CAAC,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,CAAC;AACtD;AACA;;AAEA,EAAE,IAAI,SAAS,CAAC,QAAQ,KAAK,OAAO,EAAE;AACtC,IAAI,SAAS,CAAC,QAAQ,GAAG,KAAK;AAC9B,GAAG,MAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,QAAQ,EAAE;AAC9C,IAAI,SAAS,CAAC,QAAQ,GAAG,MAAM;AAC/B;;AAEA,EAAE,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI;;AAEjC,EAAE,MAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,KAAK,MAAM;AAChD,EAAE,MAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,KAAK,UAAU;AACpD,EAAE,IAAI,iBAAiB;;AAEvB,EAAE,IAAI,SAAS,CAAC,QAAQ,KAAK,KAAK,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,EAAE;AAC9D,IAAI,iBAAiB;AACrB,MAAM,oDAAoD;AAC1D,MAAM,iCAAiC;AACvC,GAAG,MAAM,IAAI,QAAQ,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;AAC9C,IAAI,iBAAiB,GAAG,6BAA6B;AACrD,GAAG,MAAM,IAAI,SAAS,CAAC,IAAI,EAAE;AAC7B,IAAI,iBAAiB,GAAG,wCAAwC;AAChE;;AAEA,EAAE,IAAI,iBAAiB,EAAE;AACzB,IAAI,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,iBAAiB,CAAC;;AAElD,IAAI,IAAI,SAAS,CAAC,UAAU,KAAK,CAAC,EAAE;AACpC,MAAM,MAAM,GAAG;AACf,KAAK,MAAM;AACX,MAAM,iBAAiB,CAAC,SAAS,EAAE,GAAG,CAAC;AACvC,MAAM;AACN;AACA;;AAEA,EAAE,MAAM,WAAW,GAAG,QAAQ,GAAG,GAAG,GAAG,EAAE;AACzC,EAAE,MAAM,GAAG,GAAG,WAAW,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC;AAChD,EAAE,MAAM,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAC,OAAO,GAAGd,MAAI,CAAC,OAAO;AACzD,EAAE,MAAM,WAAW,GAAG,IAAI,GAAG,EAAE;AAC/B,EAAE,IAAI,iBAAiB;;AAEvB,EAAE,IAAI,CAAC,gBAAgB;AACvB,IAAI,IAAI,CAAC,gBAAgB,KAAK,QAAQ,GAAG,UAAU,GAAG,UAAU,CAAC;AACjE,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,WAAW;AACpD,EAAE,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,IAAI,WAAW;AAC3C,EAAE,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG;AAC/C,MAAM,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE;AACpC,MAAM,SAAS,CAAC,QAAQ;AACxB,EAAE,IAAI,CAAC,OAAO,GAAG;AACjB,IAAI,GAAG,IAAI,CAAC,OAAO;AACnB,IAAI,uBAAuB,EAAE,IAAI,CAAC,eAAe;AACjD,IAAI,mBAAmB,EAAE,GAAG;AAC5B,IAAI,UAAU,EAAE,SAAS;AACzB,IAAI,OAAO,EAAE;AACb,GAAG;AACH,EAAE,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,MAAM;AACnD,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB;;AAEtC,EAAE,IAAI,IAAI,CAAC,iBAAiB,EAAE;AAC9B,IAAI,iBAAiB,GAAG,IAAIlB,mBAAiB;AAC7C,MAAM,IAAI,CAAC,iBAAiB,KAAK,IAAI,GAAG,IAAI,CAAC,iBAAiB,GAAG,EAAE;AACnE,MAAM,KAAK;AACX,MAAM,IAAI,CAAC;AACX,KAAK;AACL,IAAI,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,GAAG,MAAM,CAAC;AACtD,MAAM,CAACA,mBAAiB,CAAC,aAAa,GAAG,iBAAiB,CAAC,KAAK;AAChE,KAAK,CAAC;AACN;AACA,EAAE,IAAI,SAAS,CAAC,MAAM,EAAE;AACxB,IAAI,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;AACtC,MAAM;AACN,QAAQ,OAAO,QAAQ,KAAK,QAAQ;AACpC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC;AACxC,QAAQ,WAAW,CAAC,GAAG,CAAC,QAAQ;AAChC,QAAQ;AACR,QAAQ,MAAM,IAAI,WAAW;AAC7B,UAAU;AACV,SAAS;AACT;;AAEA,MAAM,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC;AAC/B;;AAEA,IAAI,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC;AAChE;AACA,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE;AACnB,IAAI,IAAI,IAAI,CAAC,eAAe,GAAG,EAAE,EAAE;AACnC,MAAM,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,MAAM;AACxD,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;AACvC;AACA;AACA,EAAE,IAAI,SAAS,CAAC,QAAQ,IAAI,SAAS,CAAC,QAAQ,EAAE;AAChD,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC;AAC7D;;AAEA,EAAE,IAAI,QAAQ,EAAE;AAChB,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;;AAEtC,IAAI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC;AAC9B,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;AACxB;;AAEA,EAAE,IAAI,GAAG;;AAET,EAAE,IAAI,IAAI,CAAC,eAAe,EAAE;AAC5B,IAAI,IAAI,SAAS,CAAC,UAAU,KAAK,CAAC,EAAE;AACpC,MAAM,SAAS,CAAC,YAAY,GAAG,QAAQ;AACvC,MAAM,SAAS,CAAC,eAAe,GAAG,QAAQ;AAC1C,MAAM,SAAS,CAAC,yBAAyB,GAAG;AAC5C,UAAU,IAAI,CAAC;AACf,UAAU,SAAS,CAAC,IAAI;;AAExB,MAAM,MAAM,OAAO,GAAG,OAAO,IAAI,OAAO,CAAC,OAAO;;AAEhD;AACA;AACA;AACA;AACA,MAAM,OAAO,GAAG,EAAE,GAAG,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;;AAE3C,MAAM,IAAI,OAAO,EAAE;AACnB,QAAQ,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;AAC5D,UAAU,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,KAAK;AACpD;AACA;AACA,KAAK,MAAM,IAAI,SAAS,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;AAC1D,MAAM,MAAM,UAAU,GAAG;AACzB,UAAU,SAAS,CAAC;AACpB,YAAY,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC;AAC1C,YAAY;AACZ,UAAU,SAAS,CAAC;AACpB,YAAY;AACZ,YAAY,SAAS,CAAC,IAAI,KAAK,SAAS,CAAC,yBAAyB;;AAElE,MAAM,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,eAAe,IAAI,CAAC,QAAQ,CAAC,EAAE;AACnE;AACA;AACA;AACA;AACA,QAAQ,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa;AACzC,QAAQ,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM;;AAElC,QAAQ,IAAI,CAAC,UAAU,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI;;AAEjD,QAAQ,IAAI,CAAC,IAAI,GAAG,SAAS;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,EAAE;AACrD,MAAM,OAAO,CAAC,OAAO,CAAC,aAAa;AACnC,QAAQ,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC;AAC5D;;AAEA,IAAI,GAAG,GAAG,SAAS,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;;AAExC,IAAI,IAAI,SAAS,CAAC,UAAU,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC;AACpD;AACA,GAAG,MAAM;AACT,IAAI,GAAG,GAAG,SAAS,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;AACxC;;AAEA,EAAE,IAAI,IAAI,CAAC,OAAO,EAAE;AACpB,IAAI,GAAG,CAAC,EAAE,CAAC,SAAS,EAAE,MAAM;AAC5B,MAAM+B,gBAAc,CAAC,SAAS,EAAE,GAAG,EAAE,iCAAiC,CAAC;AACvE,KAAK,CAAC;AACN;;AAEA,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,KAAK;AAC3B,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC,EAAE;;AAEvC,IAAI,GAAG,GAAG,SAAS,CAAC,IAAI,GAAG,IAAI;AAC/B,IAAI,iBAAiB,CAAC,SAAS,EAAE,GAAG,CAAC;AACrC,GAAG,CAAC;;AAEJ,EAAE,GAAG,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,GAAG,KAAK;AAC9B,IAAI,MAAM,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ;AACzC,IAAI,MAAM,UAAU,GAAG,GAAG,CAAC,UAAU;;AAErC,IAAI;AACJ,MAAM,QAAQ;AACd,MAAM,IAAI,CAAC,eAAe;AAC1B,MAAM,UAAU,IAAI,GAAG;AACvB,MAAM,UAAU,GAAG;AACnB,MAAM;AACN,MAAM,IAAI,EAAE,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,EAAE;AACtD,QAAQA,gBAAc,CAAC,SAAS,EAAE,GAAG,EAAE,4BAA4B,CAAC;AACpE,QAAQ;AACR;;AAEA,MAAM,GAAG,CAAC,KAAK,EAAE;;AAEjB,MAAM,IAAI,IAAI;;AAEd,MAAM,IAAI;AACV,QAAQ,IAAI,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC;AACzC,OAAO,CAAC,OAAO,CAAC,EAAE;AAClB,QAAQ,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC/D,QAAQ,iBAAiB,CAAC,SAAS,EAAE,GAAG,CAAC;AACzC,QAAQ;AACR;;AAEA,MAAM,YAAY,CAAC,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,CAAC;AACvD,KAAK,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,qBAAqB,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE;AACjE,MAAMA,gBAAc;AACpB,QAAQ,SAAS;AACjB,QAAQ,GAAG;AACX,QAAQ,CAAC,4BAA4B,EAAE,GAAG,CAAC,UAAU,CAAC;AACtD,OAAO;AACP;AACA,GAAG,CAAC;;AAEJ,EAAE,GAAG,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,KAAK;AAC3C,IAAI,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC;;AAElC;AACA;AACA;AACA;AACA,IAAI,IAAI,SAAS,CAAC,UAAU,KAAKC,WAAS,CAAC,UAAU,EAAE;;AAEvD,IAAI,GAAG,GAAG,SAAS,CAAC,IAAI,GAAG,IAAI;;AAE/B,IAAI,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO;;AAEvC,IAAI,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,CAAC,WAAW,EAAE,KAAK,WAAW,EAAE;AACxE,MAAMD,gBAAc,CAAC,SAAS,EAAE,MAAM,EAAE,wBAAwB,CAAC;AACjE,MAAM;AACN;;AAEA,IAAI,MAAM,MAAM,GAAGZ,YAAU,CAAC,MAAM;AACpC,OAAO,MAAM,CAAC,GAAG,GAAGM,MAAI;AACxB,OAAO,MAAM,CAAC,QAAQ,CAAC;;AAEvB,IAAI,IAAI,GAAG,CAAC,OAAO,CAAC,sBAAsB,CAAC,KAAK,MAAM,EAAE;AACxD,MAAMM,gBAAc,CAAC,SAAS,EAAE,MAAM,EAAE,qCAAqC,CAAC;AAC9E,MAAM;AACN;;AAEA,IAAI,MAAM,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,wBAAwB,CAAC;AAC5D,IAAI,IAAI,SAAS;;AAEjB,IAAI,IAAI,UAAU,KAAK,SAAS,EAAE;AAClC,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;AAC7B,QAAQ,SAAS,GAAG,kDAAkD;AACtE,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;AAC/C,QAAQ,SAAS,GAAG,oCAAoC;AACxD;AACA,KAAK,MAAM,IAAI,WAAW,CAAC,IAAI,EAAE;AACjC,MAAM,SAAS,GAAG,4BAA4B;AAC9C;;AAEA,IAAI,IAAI,SAAS,EAAE;AACnB,MAAMA,gBAAc,CAAC,SAAS,EAAE,MAAM,EAAE,SAAS,CAAC;AAClD,MAAM;AACN;;AAEA,IAAI,IAAI,UAAU,EAAE,SAAS,CAAC,SAAS,GAAG,UAAU;;AAEpD,IAAI,MAAM,sBAAsB,GAAG,GAAG,CAAC,OAAO,CAAC,0BAA0B,CAAC;;AAE1E,IAAI,IAAI,sBAAsB,KAAK,SAAS,EAAE;AAC9C,MAAM,IAAI,CAAC,iBAAiB,EAAE;AAC9B,QAAQ,MAAM,OAAO;AACrB,UAAU,iEAAiE;AAC3E,UAAU,eAAe;AACzB,QAAQA,gBAAc,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC;AAClD,QAAQ;AACR;;AAEA,MAAM,IAAI,UAAU;;AAEpB,MAAM,IAAI;AACV,QAAQ,UAAU,GAAGjB,OAAK,CAAC,sBAAsB,CAAC;AAClD,OAAO,CAAC,OAAO,GAAG,EAAE;AACpB,QAAQ,MAAM,OAAO,GAAG,yCAAyC;AACjE,QAAQiB,gBAAc,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC;AAClD,QAAQ;AACR;;AAEA,MAAM,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;;AAEpD,MAAM;AACN,QAAQ,cAAc,CAAC,MAAM,KAAK,CAAC;AACnC,QAAQ,cAAc,CAAC,CAAC,CAAC,KAAK/B,mBAAiB,CAAC;AAChD,QAAQ;AACR,QAAQ,MAAM,OAAO,GAAG,sDAAsD;AAC9E,QAAQ+B,gBAAc,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC;AAClD,QAAQ;AACR;;AAEA,MAAM,IAAI;AACV,QAAQ,iBAAiB,CAAC,MAAM,CAAC,UAAU,CAAC/B,mBAAiB,CAAC,aAAa,CAAC,CAAC;AAC7E,OAAO,CAAC,OAAO,GAAG,EAAE;AACpB,QAAQ,MAAM,OAAO,GAAG,yCAAyC;AACjE,QAAQ+B,gBAAc,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC;AAClD,QAAQ;AACR;;AAEA,MAAM,SAAS,CAAC,WAAW,CAAC/B,mBAAiB,CAAC,aAAa,CAAC;AAC5D,QAAQ,iBAAiB;AACzB;;AAEA,IAAI,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE;AACtC,MAAM,sBAAsB,EAAE,IAAI,CAAC,sBAAsB;AACzD,MAAM,YAAY,EAAE,IAAI,CAAC,YAAY;AACrC,MAAM,UAAU,EAAE,IAAI,CAAC,UAAU;AACjC,MAAM,kBAAkB,EAAE,IAAI,CAAC;AAC/B,KAAK,CAAC;AACN,GAAG,CAAC;;AAEJ,EAAE,IAAI,IAAI,CAAC,aAAa,EAAE;AAC1B,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,SAAS,CAAC;AACtC,GAAG,MAAM;AACT,IAAI,GAAG,CAAC,GAAG,EAAE;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB,CAAC,SAAS,EAAE,GAAG,EAAE;AAC3C,EAAE,SAAS,CAAC,WAAW,GAAGgC,WAAS,CAAC,OAAO;AAC3C;AACA;AACA;AACA;AACA,EAAE,SAAS,CAAC,aAAa,GAAG,IAAI;AAChC,EAAE,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;AAC9B,EAAE,SAAS,CAAC,SAAS,EAAE;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,CAAC,OAAO,EAAE;AAC7B,EAAE,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,UAAU;AACnC,EAAE,OAAO,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,CAAC,OAAO,EAAE;AAC7B,EAAE,OAAO,CAAC,IAAI,GAAG,SAAS;;AAE1B,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,OAAO,CAAC,UAAU,KAAK,EAAE,EAAE;AACxD,IAAI,OAAO,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC,IAAI;AACnE;;AAEA,EAAE,OAAO,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASD,gBAAc,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE;AACpD,EAAE,SAAS,CAAC,WAAW,GAAGC,WAAS,CAAC,OAAO;;AAE3C,EAAE,MAAM,GAAG,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC;AAChC,EAAE,KAAK,CAAC,iBAAiB,CAAC,GAAG,EAAED,gBAAc,CAAC;;AAE9C,EAAE,IAAI,MAAM,CAAC,SAAS,EAAE;AACxB,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI;AAC3B,IAAI,MAAM,CAAC,KAAK,EAAE;;AAElB,IAAI,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA,MAAM,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;AAC7B;;AAEA,IAAI,OAAO,CAAC,QAAQ,CAAC,iBAAiB,EAAE,SAAS,EAAE,GAAG,CAAC;AACvD,GAAG,MAAM;AACT,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;AACvB,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AACjE,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,EAAE;AAC7C,EAAE,IAAI,IAAI,EAAE;AACZ,IAAI,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,MAAM;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,SAAS,CAAC,OAAO,EAAE,SAAS,CAAC,OAAO,CAAC,cAAc,IAAI,MAAM;AACrE,SAAS,SAAS,CAAC,eAAe,IAAI,MAAM;AAC5C;;AAEA,EAAE,IAAI,EAAE,EAAE;AACV,IAAI,MAAM,GAAG,GAAG,IAAI,KAAK;AACzB,MAAM,CAAC,kCAAkC,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;AAClE,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;AAC/C,KAAK;AACL,IAAI,OAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kBAAkB,CAAC,IAAI,EAAE,MAAM,EAAE;AAC1C,EAAE,MAAM,SAAS,GAAG,IAAI,CAAC1B,YAAU,CAAC;;AAEpC,EAAE,SAAS,CAAC,mBAAmB,GAAG,IAAI;AACtC,EAAE,SAAS,CAAC,aAAa,GAAG,MAAM;AAClC,EAAE,SAAS,CAAC,UAAU,GAAG,IAAI;;AAE7B,EAAE,IAAI,SAAS,CAAC,OAAO,CAACA,YAAU,CAAC,KAAK,SAAS,EAAE;;AAEnD,EAAE,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,CAAC;AACxD,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAS,CAAC,OAAO,CAAC;;AAE7C,EAAE,IAAI,IAAI,KAAK,IAAI,EAAE,SAAS,CAAC,KAAK,EAAE;AACtC,OAAO,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe,GAAG;AAC3B,EAAE,MAAM,SAAS,GAAG,IAAI,CAACA,YAAU,CAAC;;AAEpC,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,SAAS,CAAC,OAAO,CAAC,MAAM,EAAE;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe,CAAC,GAAG,EAAE;AAC9B,EAAE,MAAM,SAAS,GAAG,IAAI,CAACA,YAAU,CAAC;;AAEpC,EAAE,IAAI,SAAS,CAAC,OAAO,CAACA,YAAU,CAAC,KAAK,SAAS,EAAE;AACnD,IAAI,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,CAAC;;AAE1D;AACA;AACA;AACA;AACA,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAS,CAAC,OAAO,CAAC;;AAE/C,IAAI,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AACrC;;AAEA,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE;AAChC,IAAI,SAAS,CAAC,aAAa,GAAG,IAAI;AAClC,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,gBAAgB,GAAG;AAC5B,EAAE,IAAI,CAACA,YAAU,CAAC,CAAC,SAAS,EAAE;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB,CAAC,IAAI,EAAE,QAAQ,EAAE;AAC3C,EAAE,IAAI,CAACA,YAAU,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,IAAI,EAAE;AAC9B,EAAE,MAAM,SAAS,GAAG,IAAI,CAACA,YAAU,CAAC;;AAEpC,EAAE,IAAI,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;AACtE,EAAE,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,IAAI,EAAE;AAC9B,EAAE,IAAI,CAACA,YAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,MAAM,CAAC,MAAM,EAAE;AACxB,EAAE,MAAM,CAAC,MAAM,EAAE;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,CAAC,GAAG,EAAE;AAC5B,EAAE,MAAM,SAAS,GAAG,IAAI,CAACA,YAAU,CAAC;;AAEpC,EAAE,IAAI,SAAS,CAAC,UAAU,KAAK2B,WAAS,CAAC,MAAM,EAAE;AACjD,EAAE,IAAI,SAAS,CAAC,UAAU,KAAKA,WAAS,CAAC,IAAI,EAAE;AAC/C,IAAI,SAAS,CAAC,WAAW,GAAGA,WAAS,CAAC,OAAO;AAC7C,IAAI,aAAa,CAAC,SAAS,CAAC;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;;AAEpB,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE;AAChC,IAAI,SAAS,CAAC,aAAa,GAAG,IAAI;AAClC,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,CAAC,SAAS,EAAE;AAClC,EAAE,SAAS,CAAC,WAAW,GAAG,UAAU;AACpC,IAAI,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;AACrD,IAAI;AACJ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,GAAG;AACzB,EAAE,MAAM,SAAS,GAAG,IAAI,CAAC3B,YAAU,CAAC;;AAEpC,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,aAAa,CAAC;AAC7C,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,CAAC;AAC3C,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,WAAW,CAAC;;AAEzC,EAAE,SAAS,CAAC,WAAW,GAAG2B,WAAS,CAAC,OAAO;;AAE3C,EAAE,IAAI,KAAK;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU;AACnC,IAAI,CAAC,SAAS,CAAC,mBAAmB;AAClC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,YAAY;AACpD,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM;AAC3C,IAAI;AACJ,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC;AACpC;;AAEA,EAAE,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE;;AAE3B,EAAE,IAAI,CAAC3B,YAAU,CAAC,GAAG,SAAS;;AAE9B,EAAE,YAAY,CAAC,SAAS,CAAC,WAAW,CAAC;;AAErC,EAAE;AACF,IAAI,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,QAAQ;AAC/C,IAAI,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC;AACvC,IAAI;AACJ,IAAI,SAAS,CAAC,SAAS,EAAE;AACzB,GAAG,MAAM;AACT,IAAI,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE,gBAAgB,CAAC;AACrD,IAAI,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAE,gBAAgB,CAAC;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,YAAY,CAAC,KAAK,EAAE;AAC7B,EAAE,IAAI,CAAC,IAAI,CAACA,YAAU,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;AAChD,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,WAAW,GAAG;AACvB,EAAE,MAAM,SAAS,GAAG,IAAI,CAACA,YAAU,CAAC;;AAEpC,EAAE,SAAS,CAAC,WAAW,GAAG2B,WAAS,CAAC,OAAO;AAC3C,EAAE,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE;AAC3B,EAAE,IAAI,CAAC,GAAG,EAAE;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASF,eAAa,GAAG;AACzB,EAAE,MAAM,SAAS,GAAG,IAAI,CAACzB,YAAU,CAAC;;AAEpC,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,EAAEyB,eAAa,CAAC;AAC7C,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC;;AAExB,EAAE,IAAI,SAAS,EAAE;AACjB,IAAI,SAAS,CAAC,WAAW,GAAGE,WAAS,CAAC,OAAO;AAC7C,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB;AACA;;;ACv2CA,MAAM,UAAExB,QAAM,EAAE,GAAGb,YAAiB;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA,SAASsC,WAAS,CAAC,MAAM,EAAE;AAC3B,EAAE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,WAAW,GAAG;AACvB,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE;AACvD,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,CAAC,GAAG,EAAE;AAC5B,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,aAAa,CAAC;AAC7C,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,EAAE,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AACzC;AACA,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,qBAAqB,CAAC,EAAE,EAAE,OAAO,EAAE;AAC5C,EAAE,IAAI,kBAAkB,GAAG,IAAI;;AAE/B,EAAE,MAAM,MAAM,GAAG,IAAIzB,QAAM,CAAC;AAC5B,IAAI,GAAG,OAAO;AACd,IAAI,WAAW,EAAE,KAAK;AACtB,IAAI,SAAS,EAAE,KAAK;AACpB,IAAI,UAAU,EAAE,KAAK;AACrB,IAAI,kBAAkB,EAAE;AACxB,GAAG,CAAC;;AAEJ,EAAE,EAAE,CAAC,EAAE,CAAC,SAAS,EAAE,SAAS,OAAO,CAAC,GAAG,EAAE,QAAQ,EAAE;AACnD,IAAI,MAAM,IAAI;AACd,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,cAAc,CAAC,UAAU,GAAG,GAAG,CAAC,QAAQ,EAAE,GAAG,GAAG;;AAE1E,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,KAAK,EAAE;AACtC,GAAG,CAAC;;AAEJ,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,KAAK,CAAC,GAAG,EAAE;AACvC,IAAI,IAAI,MAAM,CAAC,SAAS,EAAE;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,kBAAkB,GAAG,KAAK;AAC9B,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;AACvB,GAAG,CAAC;;AAEJ,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,KAAK,GAAG;AACpC,IAAI,IAAI,MAAM,CAAC,SAAS,EAAE;;AAE1B,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;AACrB,GAAG,CAAC;;AAEJ,EAAE,MAAM,CAAC,QAAQ,GAAG,UAAU,GAAG,EAAE,QAAQ,EAAE;AAC7C,IAAI,IAAI,EAAE,CAAC,UAAU,KAAK,EAAE,CAAC,MAAM,EAAE;AACrC,MAAM,QAAQ,CAAC,GAAG,CAAC;AACnB,MAAM,OAAO,CAAC,QAAQ,CAACyB,WAAS,EAAE,MAAM,CAAC;AACzC,MAAM;AACN;;AAEA,IAAI,IAAI,MAAM,GAAG,KAAK;;AAEtB,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,KAAK,CAAC,GAAG,EAAE;AACzC,MAAM,MAAM,GAAG,IAAI;AACnB,MAAM,QAAQ,CAAC,GAAG,CAAC;AACnB,KAAK,CAAC;;AAEN,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,KAAK,GAAG;AACtC,MAAM,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,GAAG,CAAC;AAChC,MAAM,OAAO,CAAC,QAAQ,CAACA,WAAS,EAAE,MAAM,CAAC;AACzC,KAAK,CAAC;;AAEN,IAAI,IAAI,kBAAkB,EAAE,EAAE,CAAC,SAAS,EAAE;AAC1C,GAAG;;AAEH,EAAE,MAAM,CAAC,MAAM,GAAG,UAAU,QAAQ,EAAE;AACtC,IAAI,IAAI,EAAE,CAAC,UAAU,KAAK,EAAE,CAAC,UAAU,EAAE;AACzC,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,IAAI,GAAG;AACtC,QAAQ,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;AAC/B,OAAO,CAAC;AACR,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA,IAAI,IAAI,EAAE,CAAC,OAAO,KAAK,IAAI,EAAE;;AAE7B,IAAI,IAAI,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAE;AAC5C,MAAM,QAAQ,EAAE;AAChB,MAAM,IAAI,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,MAAM,CAAC,OAAO,EAAE;AAC5D,KAAK,MAAM;AACX,MAAM,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,MAAM,GAAG;AAClD;AACA;AACA;AACA,QAAQ,QAAQ,EAAE;AAClB,OAAO,CAAC;AACR,MAAM,EAAE,CAAC,KAAK,EAAE;AAChB;AACA,GAAG;;AAEH,EAAE,MAAM,CAAC,KAAK,GAAG,YAAY;AAC7B,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,MAAM,EAAE;AAChC,GAAG;;AAEH,EAAE,MAAM,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE;AACvD,IAAI,IAAI,EAAE,CAAC,UAAU,KAAK,EAAE,CAAC,UAAU,EAAE;AACzC,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,IAAI,GAAG;AACtC,QAAQ,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,CAAC;AAChD,OAAO,CAAC;AACR,MAAM;AACN;;AAEA,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC;AAC5B,GAAG;;AAEH,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,WAAW,CAAC;AAC/B,EAAE,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,aAAa,CAAC;AACnC,EAAE,OAAO,MAAM;AACf;;AAEA,IAAA,MAAc,GAAG,qBAAqB;;AC9JtC,MAAM,EAAE,UAAU,EAAE,GAAG9C,iBAAuB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,KAAK,CAAC,MAAM,EAAE;AACvB,EAAE,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE;AAC7B,EAAE,IAAI,KAAK,GAAG,EAAE;AAChB,EAAE,IAAI,GAAG,GAAG,EAAE;AACd,EAAE,IAAI,CAAC,GAAG,CAAC;;AAEX,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAClC,IAAI,MAAM,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;;AAErC,IAAI,IAAI,GAAG,KAAK,EAAE,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AAC9C,MAAM,IAAI,KAAK,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC;AACjC,KAAK,MAAM;AACX,MAAM,CAAC,KAAK,CAAC;AACb,OAAO,IAAI,KAAK,IAAI,cAAc,IAAI,KAAK,IAAI,CAAC;AAChD,MAAM;AACN,MAAM,IAAI,GAAG,KAAK,EAAE,IAAI,KAAK,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;AAC7C,KAAK,MAAM,IAAI,IAAI,KAAK,IAAI,YAAY;AACxC,MAAM,IAAI,KAAK,KAAK,EAAE,EAAE;AACxB,QAAQ,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACnE;;AAEA,MAAM,IAAI,GAAG,KAAK,EAAE,EAAE,GAAG,GAAG,CAAC;;AAE7B,MAAM,MAAM,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC;;AAE/C,MAAM,IAAI,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AACnC,QAAQ,MAAM,IAAI,WAAW,CAAC,CAAC,KAAK,EAAE,QAAQ,CAAC,2BAA2B,CAAC,CAAC;AAC5E;;AAEA,MAAM,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;AAC7B,MAAM,KAAK,GAAG,GAAG,GAAG,EAAE;AACtB,KAAK,MAAM;AACX,MAAM,MAAM,IAAI,WAAW,CAAC,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC,CAAC;AACjE;AACA;;AAEA,EAAE,IAAI,KAAK,KAAK,EAAE,IAAI,GAAG,KAAK,EAAE,EAAE;AAClC,IAAI,MAAM,IAAI,WAAW,CAAC,yBAAyB,CAAC;AACpD;;AAEA,EAAE,MAAM,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;;AAEzC,EAAE,IAAI,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AAC/B,IAAI,MAAM,IAAI,WAAW,CAAC,CAAC,KAAK,EAAE,QAAQ,CAAC,2BAA2B,CAAC,CAAC;AACxE;;AAEA,EAAE,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;AACzB,EAAE,OAAO,SAAS;AAClB;;IAEA+C,aAAc,GAAG,EAAE,KAAK,EAAE;;;;ACzD1B,MAAM,YAAY,GAAG/C,YAAiB;AACtC,MAAM,IAAI,GAAGQ,UAAe;AAC5B,MAAM,EAAE,MAAM,EAAE,GAAGC,YAAiB;AACpC,MAAM,EAAE,UAAU,EAAE,GAAGE,UAAiB;;AAExC,MAAM,SAAS,GAAGQ,WAAsB;AACxC,MAAM,iBAAiB,GAAGI,iBAA+B;AACzD,MAAM,WAAW,GAAGU,aAAwB;AAC5C,MAAMY,WAAS,GAAGG,SAAsB;AACxC,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,GAAGd,SAAsB;;AAEnD,MAAM,QAAQ,GAAG,uBAAuB;;AAExC,MAAM,OAAO,GAAG,CAAC;AACjB,MAAM,OAAO,GAAG,CAAC;AACjB,MAAM,MAAM,GAAG,CAAC;;AAEhB;AACA;AACA;AACA;AACA;AACA,MAAM,eAAe,SAAS,YAAY,CAAC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,OAAO,EAAE,QAAQ,EAAE;AACjC,IAAI,KAAK,EAAE;;AAEX,IAAI,OAAO,GAAG;AACd,MAAM,sBAAsB,EAAE,IAAI;AAClC,MAAM,QAAQ,EAAE,IAAI;AACpB,MAAM,UAAU,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI;AACnC,MAAM,kBAAkB,EAAE,KAAK;AAC/B,MAAM,iBAAiB,EAAE,KAAK;AAC9B,MAAM,eAAe,EAAE,IAAI;AAC3B,MAAM,cAAc,EAAE,IAAI;AAC1B,MAAM,YAAY,EAAE,IAAI;AACxB,MAAM,QAAQ,EAAE,KAAK;AACrB,MAAM,OAAO,EAAE,IAAI;AACnB,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,IAAI,EAAE,IAAI;AAChB,MAAM,IAAI,EAAE,IAAI;AAChB,MAAM,IAAI,EAAE,IAAI;AAChB,iBAAMW,WAAS;AACf,MAAM,GAAG;AACT,KAAK;;AAEL,IAAI;AACJ,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ;AACnE,OAAO,OAAO,CAAC,IAAI,IAAI,IAAI,KAAK,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC;AACpE,OAAO,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,QAAQ;AACzC,MAAM;AACN,MAAM,MAAM,IAAI,SAAS;AACzB,QAAQ,kEAAkE;AAC1E,UAAU;AACV,OAAO;AACP;;AAEA,IAAI,IAAI,OAAO,CAAC,IAAI,IAAI,IAAI,EAAE;AAC9B,MAAM,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,GAAG,KAAK;AACrD,QAAQ,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;;AAE3C,QAAQ,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE;AAC3B,UAAU,gBAAgB,EAAE,IAAI,CAAC,MAAM;AACvC,UAAU,cAAc,EAAE;AAC1B,SAAS,CAAC;AACV,QAAQ,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;AACrB,OAAO,CAAC;AACR,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM;AACzB,QAAQ,OAAO,CAAC,IAAI;AACpB,QAAQ,OAAO,CAAC,IAAI;AACpB,QAAQ,OAAO,CAAC,OAAO;AACvB,QAAQ;AACR,OAAO;AACP,KAAK,MAAM,IAAI,OAAO,CAAC,MAAM,EAAE;AAC/B,MAAM,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM;AACnC;;AAEA,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,MAAM,MAAM,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC;;AAE/D,MAAM,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE;AACzD,QAAQ,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC;AACpD,QAAQ,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC;AAC5C,QAAQ,OAAO,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,KAAK;AACxC,UAAU,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,cAAc,CAAC;AAC/D;AACA,OAAO,CAAC;AACR;;AAEA,IAAI,IAAI,OAAO,CAAC,iBAAiB,KAAK,IAAI,EAAE,OAAO,CAAC,iBAAiB,GAAG,EAAE;AAC1E,IAAI,IAAI,OAAO,CAAC,cAAc,EAAE;AAChC,MAAM,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE;AAC9B,MAAM,IAAI,CAAC,gBAAgB,GAAG,KAAK;AACnC;;AAEA,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO;AAC1B,IAAI,IAAI,CAAC,MAAM,GAAG,OAAO;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,GAAG;AACZ,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;AAC/B,MAAM,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC;AACnE;;AAEA,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,IAAI;AAClC,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,KAAK,CAAC,EAAE,EAAE;AACZ,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE;AAChC,MAAM,IAAI,EAAE,EAAE;AACd,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM;AACjC,UAAU,EAAE,CAAC,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;AACpD,SAAS,CAAC;AACV;;AAEA,MAAM,OAAO,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC;AACvC,MAAM;AACN;;AAEA,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC;;AAElC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AACjC,IAAI,IAAI,CAAC,MAAM,GAAG,OAAO;;AAEzB,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACtD,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;AACxB,QAAQ,IAAI,CAAC,gBAAgB,EAAE;AAC/B,QAAQ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI;AACnD;;AAEA,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;AACxB,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;AAChC,UAAU,OAAO,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC;AAC3C,SAAS,MAAM;AACf,UAAU,IAAI,CAAC,gBAAgB,GAAG,IAAI;AACtC;AACA,OAAO,MAAM;AACb,QAAQ,OAAO,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC;AACzC;AACA,KAAK,MAAM;AACX,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO;;AAEjC,MAAM,IAAI,CAAC,gBAAgB,EAAE;AAC7B,MAAM,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI;;AAEjD;AACA;AACA;AACA;AACA,MAAM,MAAM,CAAC,KAAK,CAAC,MAAM;AACzB,QAAQ,SAAS,CAAC,IAAI,CAAC;AACvB,OAAO,CAAC;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,YAAY,CAAC,GAAG,EAAE;AACpB,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;AAC3B,MAAM,MAAM,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC;AACxC,MAAM,MAAM,QAAQ,GAAG,KAAK,KAAK,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG;;AAEvE,MAAM,IAAI,QAAQ,KAAK,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,KAAK;AACtD;;AAEA,IAAI,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,aAAa,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE;AACvC,IAAI,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,aAAa,CAAC;;AAErC,IAAI,MAAM,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,mBAAmB,CAAC;AAChD,IAAI,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO;AACvC,IAAI,MAAM,OAAO,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,uBAAuB,CAAC;;AAEzD,IAAI,IAAI,GAAG,CAAC,MAAM,KAAK,KAAK,EAAE;AAC9B,MAAM,MAAM,OAAO,GAAG,qBAAqB;AAC3C,MAAM,iCAAiC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC;AACxE,MAAM;AACN;;AAEA,IAAI,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,CAAC,WAAW,EAAE,KAAK,WAAW,EAAE;AACxE,MAAM,MAAM,OAAO,GAAG,wBAAwB;AAC9C,MAAM,iCAAiC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC;AACxE,MAAM;AACN;;AAEA,IAAI,IAAI,GAAG,KAAK,SAAS,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;AAClD,MAAM,MAAM,OAAO,GAAG,6CAA6C;AACnE,MAAM,iCAAiC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC;AACxE,MAAM;AACN;;AAEA,IAAI,IAAI,OAAO,KAAK,CAAC,IAAI,OAAO,KAAK,EAAE,EAAE;AACzC,MAAM,MAAM,OAAO,GAAG,iDAAiD;AACvE,MAAM,iCAAiC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC;AACxE,MAAM;AACN;;AAEA,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE;AACjC,MAAM,cAAc,CAAC,MAAM,EAAE,GAAG,CAAC;AACjC,MAAM;AACN;;AAEA,IAAI,MAAM,oBAAoB,GAAG,GAAG,CAAC,OAAO,CAAC,wBAAwB,CAAC;AACtE,IAAI,IAAI,SAAS,GAAG,IAAI,GAAG,EAAE;;AAE7B,IAAI,IAAI,oBAAoB,KAAK,SAAS,EAAE;AAC5C,MAAM,IAAI;AACV,QAAQ,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC,oBAAoB,CAAC;AAC3D,OAAO,CAAC,OAAO,GAAG,EAAE;AACpB,QAAQ,MAAM,OAAO,GAAG,uCAAuC;AAC/D,QAAQ,iCAAiC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC;AAC1E,QAAQ;AACR;AACA;;AAEA,IAAI,MAAM,sBAAsB,GAAG,GAAG,CAAC,OAAO,CAAC,0BAA0B,CAAC;AAC1E,IAAI,MAAM,UAAU,GAAG,EAAE;;AAEzB,IAAI;AACJ,MAAM,IAAI,CAAC,OAAO,CAAC,iBAAiB;AACpC,MAAM,sBAAsB,KAAK;AACjC,MAAM;AACN,MAAM,MAAM,iBAAiB,GAAG,IAAI,iBAAiB;AACrD,QAAQ,IAAI,CAAC,OAAO,CAAC,iBAAiB;AACtC,QAAQ,IAAI;AACZ,QAAQ,IAAI,CAAC,OAAO,CAAC;AACrB,OAAO;;AAEP,MAAM,IAAI;AACV,QAAQ,MAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,sBAAsB,CAAC;;AAE9D,QAAQ,IAAI,MAAM,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE;AACrD,UAAU,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;AAC3E,UAAU,UAAU,CAAC,iBAAiB,CAAC,aAAa,CAAC,GAAG,iBAAiB;AACzE;AACA,OAAO,CAAC,OAAO,GAAG,EAAE;AACpB,QAAQ,MAAM,OAAO;AACrB,UAAU,yDAAyD;AACnE,QAAQ,iCAAiC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC;AAC1E,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;AACnC,MAAM,MAAM,IAAI,GAAG;AACnB,QAAQ,MAAM;AACd,UAAU,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC,GAAG,sBAAsB,GAAG,QAAQ,CAAC,CAAC,CAAC;AAC7E,QAAQ,MAAM,EAAE,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,UAAU,IAAI,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC;AACjE,QAAQ;AACR,OAAO;;AAEP,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;AAClD,QAAQ,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,KAAK;AAC9E,UAAU,IAAI,CAAC,QAAQ,EAAE;AACzB,YAAY,OAAO,cAAc,CAAC,MAAM,EAAE,IAAI,IAAI,GAAG,EAAE,OAAO,EAAE,OAAO,CAAC;AACxE;;AAEA,UAAU,IAAI,CAAC,eAAe;AAC9B,YAAY,UAAU;AACtB,YAAY,GAAG;AACf,YAAY,SAAS;AACrB,YAAY,GAAG;AACf,YAAY,MAAM;AAClB,YAAY,IAAI;AAChB,YAAY;AACZ,WAAW;AACX,SAAS,CAAC;AACV,QAAQ;AACR;;AAEA,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,OAAO,cAAc,CAAC,MAAM,EAAE,GAAG,CAAC;AAC9E;;AAEA,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC;AAC3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,eAAe,CAAC,UAAU,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE;AACrE;AACA;AACA;AACA,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,MAAM,CAAC,OAAO,EAAE;;AAErE,IAAI,IAAI,MAAM,CAAC,UAAU,CAAC,EAAE;AAC5B,MAAM,MAAM,IAAI,KAAK;AACrB,QAAQ,iEAAiE;AACzE,UAAU;AACV,OAAO;AACP;;AAEA,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,OAAO,EAAE,OAAO,cAAc,CAAC,MAAM,EAAE,GAAG,CAAC;;AAEjE,IAAI,MAAM,MAAM,GAAG,UAAU,CAAC,MAAM;AACpC,OAAO,MAAM,CAAC,GAAG,GAAG,IAAI;AACxB,OAAO,MAAM,CAAC,QAAQ,CAAC;;AAEvB,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,kCAAkC;AACxC,MAAM,oBAAoB;AAC1B,MAAM,qBAAqB;AAC3B,MAAM,CAAC,sBAAsB,EAAE,MAAM,CAAC;AACtC,KAAK;;AAEL,IAAI,MAAM,EAAE,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC;;AAExE,IAAI,IAAI,SAAS,CAAC,IAAI,EAAE;AACxB;AACA;AACA;AACA,MAAM,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;AACpC,UAAU,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,EAAE,GAAG;AACrD,UAAU,SAAS,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK;;AAEzC,MAAM,IAAI,QAAQ,EAAE;AACpB,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,wBAAwB,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC3D,QAAQ,EAAE,CAAC,SAAS,GAAG,QAAQ;AAC/B;AACA;;AAEA,IAAI,IAAI,UAAU,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE;AACrD,MAAM,MAAM,MAAM,GAAG,UAAU,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC,MAAM;AACvE,MAAM,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC;AACrC,QAAQ,CAAC,iBAAiB,CAAC,aAAa,GAAG,CAAC,MAAM;AAClD,OAAO,CAAC;AACR,MAAM,OAAO,CAAC,IAAI,CAAC,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC,CAAC;AACxD,MAAM,EAAE,CAAC,WAAW,GAAG,UAAU;AACjC;;AAEA;AACA;AACA;AACA,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,GAAG,CAAC;;AAEtC,IAAI,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACrD,IAAI,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,aAAa,CAAC;;AAEjD,IAAI,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE;AAC/B,MAAM,sBAAsB,EAAE,IAAI,CAAC,OAAO,CAAC,sBAAsB;AACjE,MAAM,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU;AACzC,MAAM,kBAAkB,EAAE,IAAI,CAAC,OAAO,CAAC;AACvC,KAAK,CAAC;;AAEN,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;AAC1B,MAAM,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM;AAC3B,QAAQ,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;;AAE/B,QAAQ,IAAI,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;AACzD,UAAU,OAAO,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC;AAC3C;AACA,OAAO,CAAC;AACR;;AAEA,IAAI,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC;AACf;AACA;;AAEA,IAAA,eAAc,GAAG,eAAe;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,YAAY,CAAC,MAAM,EAAE,GAAG,EAAE;AACnC,EAAE,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;;AAEpE,EAAE,OAAO,SAAS,eAAe,GAAG;AACpC,IAAI,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;AAC1C,MAAM,MAAM,CAAC,cAAc,CAAC,KAAK,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;AAC9C;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,CAAC,MAAM,EAAE;AAC3B,EAAE,MAAM,CAAC,MAAM,GAAG,MAAM;AACxB,EAAE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,GAAG;AACzB,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,GAAG,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;AAC9C,EAAE,OAAO,GAAG;AACZ,IAAI,UAAU,EAAE,OAAO;AACvB,IAAI,cAAc,EAAE,WAAW;AAC/B,IAAI,gBAAgB,EAAE,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;AAChD,IAAI,GAAG;AACP,GAAG;;AAEH,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC;;AAEvC,EAAE,MAAM,CAAC,GAAG;AACZ,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;AACrD,MAAM,MAAM,CAAC,IAAI,CAAC,OAAO;AACzB,SAAS,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACzC,SAAS,IAAI,CAAC,MAAM,CAAC;AACrB,MAAM,UAAU;AAChB,MAAM;AACN,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iCAAiC,CAAC,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE;AAC/E,EAAE,IAAI,MAAM,CAAC,aAAa,CAAC,eAAe,CAAC,EAAE;AAC7C,IAAI,MAAM,GAAG,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC;AAClC,IAAI,KAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,iCAAiC,CAAC;;AAEnE,IAAI,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC;AAClD,GAAG,MAAM;AACT,IAAI,cAAc,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC;AACzC;AACA;;ACzhBA,MAAMA,WAAS,GAAG7C,SAA0B;;AAE5C6C,WAAS,CAAC,qBAAqB,GAAGrC,MAAuB;AACzDqC,WAAS,CAAC,MAAM,GAAGpC,eAAiC;AACpDoC,WAAS,CAAC,QAAQ,GAAGlC,QAAyB;AAC9CkC,WAAS,CAAC,MAAM,GAAG1B,MAAuB;;AAE1C0B,WAAS,CAAC,SAAS,GAAGA,WAAS;AAC/BA,WAAS,CAAC,eAAe,GAAGA,WAAS,CAAC,MAAM;;AAE5C,IAAA,EAAc,GAAGA,WAAS;;ACV1B,IAAA,IAAc,GAAG7C,EAAa;;;;ACAvB,eAAe,sBAAsB,CAAC,KAAe,EAAA;AAC1D,IAAA,MAAM,WAAW,GAAoC,EAAE,OAAO,EAAE,KAAK,EAAE;IACvE,IAAI,MAAM,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;AACnD,QAAA,OAAO,IAAI;;IAEb,OAAO,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,WAAW,CAAC;AACjD;AAEO,eAAe,qBAAqB,CAAC,IAAY,EAAA;AACtD,IAAA,OAAO,sBAAsB,CAAC,CAAC,IAAI,CAAC,CAAC;AACvC;;ACJA;IACY;AAAZ,CAAA,UAAY,qBAAqB,EAAA;AAC/B,IAAA,qBAAA,CAAA,UAAA,CAAA,GAAA,UAAqB;AACrB,IAAA,qBAAA,CAAA,UAAA,CAAA,GAAA,UAAqB;AACrB,IAAA,qBAAA,CAAA,SAAA,CAAA,GAAA,SAAmB;AACrB,CAAC,EAJW,qBAAqB,KAArB,qBAAqB,GAIhC,EAAA,CAAA,CAAA;AAQK,MAAO,SAAU,SAAQ,aAAa,CAAA;IAC1C,WAAoB,CAAA,iBAAA,GAA2C,qBAAqB,CAAC,QAAQ,EAAA;AAC3F,QAAA,KAAK,EAAE;QADW,IAAiB,CAAA,iBAAA,GAAjB,iBAAiB;;QAGnC,IAAI,CAAC,iBAAiB,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;;AAGvC,IAAA,MAAM,iBAAiB,GAAA;;AAE7B,QAAA,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,sBAAsB,EAAE;AACnD,QAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACnB,YAAA,MAAM,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC;;AAErC,QAAA,MAAM,IAAI,CAAC,uBAAuB,EAAE;;AAG9B,IAAA,MAAM,uBAAuB,GAAA;AACnC,QAAA,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,sBAAsB,EAAE;QACnD,IAAI,UAAU,GAAG,KAAK;AAEtB,QAAA,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;AAC5B,YAAA,IAAI,MAAM,CAAC,SAAS,KAAK,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;gBACrF,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC;gBAClC,UAAU,GAAG,IAAI;;;QAIrB,IAAI,UAAU,EAAE;AACd,YAAA,MAAM,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAC9C,CAAC,CAAC,SAAS,KAAK,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,QAAQ,CAAC,CACvE,CAAC;;;AAIE,IAAA,mBAAmB,CAAC,QAAa,EAAA;QACvC,OAAO,QAAQ,EAAE,cAAc;;IAGjC,OAAO,GAAA;QACL,OAAO,CAAA,KAAA,EAAQ,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA,CAAE;;IAGnG,kBAAkB,GAAA;AAChB,QAAA,OAAO,IAAI;;;AAIL,IAAA,MAAM,kBAAkB,GAAA;AAC9B,QAAA,IAAI;;YAEF,IAAI,EAAE,MAAM,qBAAqB,CAAC,gCAAgC,CAAC,CAAC,EAAE;gBACpE,MAAM,IAAI,YAAY,CAAC,0CAA0C,EAAE,SAAS,CAAC,uBAAuB,CAAC;;AAGvG,YAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,mDAAmD,EAAE;AAChF,gBAAA,MAAM,EAAE,MAAM;AACd,gBAAA,OAAO,EAAE;AACP,oBAAA,QAAQ,EAAE,kBAAkB;AAC5B,oBAAA,iBAAiB,EAAE,gBAAgB;AACnC,oBAAA,cAAc,EAAE;AACjB,iBAAA;AACD,gBAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;AACxB,gBAAA,WAAW,EAAE;AACd,aAAA,CAAC;AAEF,YAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAChB,gBAAA,MAAM,IAAI,YAAY,CAAC,CAAA,+BAAA,EAAkC,QAAQ,CAAC,MAAM,CAAA,CAAE,EAAE,SAAS,CAAC,mBAAmB,CAAC;;AAG5G,YAAA,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAClC,YAAA,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,IAAI,CAAC;AAEnD,YAAA,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;gBACZ,MAAM,IAAI,YAAY,CAAC,uCAAuC,EAAE,SAAS,CAAC,mBAAmB,CAAC;;YAGhG,OAAO;gBACL,cAAc,EAAE,IAAI,CAAC,EAAE;gBACvB,iBAAiB,EAAE,IAAI,CAAC;aACzB;;QACD,OAAO,KAAK,EAAE;AACd,YAAA,OAAO,CAAC,KAAK,CAAC,qCAAqC,EAAE,KAAK,CAAC;YAC3D,MAAM,IAAI,YAAY,CACpB,sCAAsC,EACtC,SAAS,CAAC,YAAY,CACvB;;;IAIK,MAAM,aAAa,CAAC,MAK7B,EAAA;AACC,QAAA,IAAI;;YAEF,IAAI,EAAE,MAAM,qBAAqB,CAAC,8BAA8B,CAAC,CAAC,EAAE;gBAClE,MAAM,IAAI,YAAY,CAAC,0CAA0C,EAAE,SAAS,CAAC,uBAAuB,CAAC;;YAGvG,MAAM,CAAC,OAAO,CAAC;AACb,gBAAA,IAAI,EAAE,eAAe;AACrB,gBAAA,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACjB,aAAA,CAAC;;AAGF,YAAA,MAAM,IAAI,CAAC,kBAAkB,EAAE;;AAG/B,YAAA,MAAM,aAAa,GAAG,IAAI,CAAC,oBAAoB,EAAE;;AAGjD,YAAA,MAAM,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC;AAC7D,YAAA,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;;AAGxC,YAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,EAAE;;AAGvC,YAAA,IAAI,MAAM,CAAC,KAAK,EAAE;gBAChB,MAAM,IAAI,YAAY,CAAC,sDAAsD,EAAE,SAAS,CAAC,aAAa,CAAC;;YAGzG,IAAI,YAAY,GAAG,EAAE;YACrB,IAAI,kBAAkB,GAAa,EAAE;;AAGrC,YAAA,MAAM,EAAE,GAAG,IAAI,SAAS,CAAC,sDAAsD,CAAC;AAEhF,YAAA,EAAE,CAAC,MAAM,GAAG,MAAK;AACf,gBAAA,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC;;AAE1C,gBAAA,MAAM,WAAW,GAAG;AAClB,oBAAA,KAAK,EAAE,MAAM;AACb,oBAAA,IAAI,EAAE,MAAM;oBACZ,cAAc,EAAE,QAAQ,CAAC,cAAc;AACvC,oBAAA,OAAO,EAAE;AACP,wBAAA;AACE,4BAAA,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,MAAM,CAAC;AACd;AACF;iBACF;gBACD,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;AACtC,aAAC;AAED,YAAA,EAAE,CAAC,SAAS,GAAG,CAAC,KAA6B,KAAI;AAC/C,gBAAA,IAAI;AACF,oBAAA,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI;oBACvB,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;AACjC,oBAAA,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,QAAQ,CAAC;AAE3C,oBAAA,IAAI,QAAQ,CAAC,KAAK,KAAK,UAAU,EAAE;;wBAEjC,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,QAAQ,CAAC,SAAS,CAAC;;AACzD,yBAAA,IAAI,QAAQ,CAAC,KAAK,KAAK,cAAc,EAAE;;wBAE5C,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,QAAQ,CAAC,SAAS,CAAC;;AAC1D,yBAAA,IAAI,QAAQ,CAAC,KAAK,KAAK,YAAY,EAAE;;AAE1C,wBAAA,YAAY,IAAI,QAAQ,CAAC,IAAI,IAAI,EAAE;;wBAGnC,MAAM,CAAC,OAAO,CAAC;AACb,4BAAA,IAAI,EAAE,eAAe;AACrB,4BAAA,IAAI,EAAE,EAAE,IAAI,EAAE,YAAY;AAC3B,yBAAA,CAAC;;AACG,yBAAA,IAAI,QAAQ,CAAC,KAAK,KAAK,MAAM,EAAE;;;wBAGpC,MAAM,gBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,YAAY,CAAC;AACtE,wBAAA,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC;;AAG7C,wBAAA,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE;;wBAGpC,IAAI,CAAC,UAAU,EAAE;wBAEjB,MAAM,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;wBAGhC,EAAE,CAAC,KAAK,EAAE;;yBACL,IAAI,QAAQ,CAAC,KAAK,KAAK,oBAAoB,IAAI,QAAQ,CAAC,WAAW,EAAE;;AAE1E,wBAAA,kBAAkB,GAAG,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAM,KAAK,CAAC,CAAC;;wBAG5D,IAAI,aAAa,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AACrC,4BAAA,MAAM,WAAW,GAAG,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;AAC7E,4BAAA,IAAI,WAAW,CAAC,IAAI,KAAK,WAAW,EAAE;AACpC,gCAAA,WAAW,CAAC,QAAQ,GAAG,EAAE,kBAAkB,EAAE;gCAC7C,IAAI,CAAC,UAAU,EAAE;;;;;gBAIvB,OAAO,KAAK,EAAE;AACd,oBAAA,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC;;AAE3D,aAAC;AAED,YAAA,EAAE,CAAC,OAAO,GAAG,CAAC,KAA2B,KAAI;AAC3C,gBAAA,OAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC;gBACxC,MAAM,CAAC,OAAO,CAAC;AACb,oBAAA,IAAI,EAAE,OAAO;AACb,oBAAA,IAAI,EAAE;wBACJ,KAAK,EAAE,IAAI,YAAY,CACrB,4BAA4B,EAC5B,SAAS,CAAC,aAAa;AAE1B;AACF,iBAAA,CAAC;AACJ,aAAC;AAED,YAAA,EAAE,CAAC,OAAO,GAAG,MAAK;AAChB,gBAAA,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC;AAC5C,aAAC;;AAGD,YAAA,IAAI,MAAM,CAAC,MAAM,EAAE;gBACjB,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAK;oBAC3C,EAAE,CAAC,KAAK,EAAE;AACZ,iBAAC,CAAC;;;QAEJ,OAAO,KAAK,EAAE;YACd,MAAM,CAAC,OAAO,CAAC;AACb,gBAAA,IAAI,EAAE,OAAO;AACb,gBAAA,IAAI,EAAE;AACJ,oBAAA,KAAK,EAAE,KAAK,YAAY,YAAY,GAAG,KAAK,GAAG,IAAI,YAAY,CAC7D,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,EACtD,SAAS,CAAC,aAAa;AAE1B;AACF,aAAA,CAAC;AACF,YAAA,MAAM,KAAK;;;AAKT,IAAA,MAAM,kBAAkB,GAAA;AAC9B,QAAA,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;;AAEvB,YAAA,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,sBAAsB,EAAE;AACnD,YAAA,MAAM,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,IAClC,CAAC,CAAC,SAAS,KAAK,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,QAAQ,CAAC,CACvE;AAED,YAAA,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAE1B,MAAM,gBAAgB,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACjF,gBAAA,IAAI,CAAC,aAAa,GAAG,gBAAgB;gBACrC,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;;iBACrE;;AAEL,gBAAA,MAAM,IAAI,CAAC,aAAa,EAAE;;;;IAKxB,oBAAoB,GAAA;AAC1B,QAAA,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,MAAM,IAAI,YAAY,CAAC,kBAAkB,EAAE,SAAS,CAAC,eAAe,CAAC;;QAEvE,OAAO,IAAI,CAAC,aAAa;;IAGnB,eAAe,GAAA;AACrB,QAAA,MAAM,aAAa,GAAG,IAAI,CAAC,oBAAoB,EAAE;AAEjD,QAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;YAC3B,MAAM,IAAI,YAAY,CAAC,8BAA8B,EAAE,SAAS,CAAC,eAAe,CAAC;;AAGnF,QAAA,MAAM,QAAQ,GAAG,aAAa,CAAC,QAA8B;QAC7D,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,EAAE;YACvC,MAAM,IAAI,YAAY,CAAC,yBAAyB,EAAE,SAAS,CAAC,eAAe,CAAC;;AAG9E,QAAA,OAAO,QAAQ;;AAGjB,IAAA,MAAM,aAAa,GAAA;AACjB,QAAA,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,kBAAkB,EAAE;QAExD,IAAI,CAAC,aAAa,GAAG;YACnB,EAAE,EAAEL,EAAI,EAAE;AACV,YAAA,KAAK,EAAE,kBAAkB;AACzB,YAAA,QAAQ,EAAE,EAAE;AACZ,YAAA,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;AACrB,YAAA,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;AACrB,YAAA,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE;AACzB,YAAA,QAAQ,EAAE;SACX;AAED,QAAA,MAAM,IAAI,CAAC,UAAU,EAAE;;IAGzB,MAAM,UAAU,CAAC,QAAgB,EAAA;AAC/B,QAAA,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,sBAAsB,EAAE;AACnD,QAAA,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC;QAEnD,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,KAAK,IAAI,CAAC,OAAO,EAAE,EAAE;;;AAGjD,YAAA,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,kBAAkB,EAAE;YAExD,IAAI,CAAC,aAAa,GAAG;AACnB,gBAAA,GAAG,MAAM;AACT,gBAAA,QAAQ,EAAE;aACX;AAED,YAAA,MAAM,IAAI,CAAC,UAAU,EAAE;;aAClB;AACL,YAAA,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC;;;IAI/B,MAAM,WAAW,CAAC,KAAW,EAAA;AACnC,QAAA,IAAI;;;YAGF,MAAM,IAAI,YAAY,CAAC,sDAAsD,EAAE,SAAS,CAAC,aAAa,CAAC;;QACvG,OAAO,KAAK,EAAE;YACd,MAAM,IAAI,YAAY,CAAC,mCAAmC,EAAE,SAAS,CAAC,aAAa,CAAC;;;AAGvF;;;;","x_google_ignoreList":[1,2,3,4,5,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]}